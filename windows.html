<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=windows-1252"
 http-equiv="Content-Type">
  <title>OpenAFS for Windows</title>
  <meta content="jaltman@secure-endpoints.com" name="author">
  <meta name="keywords" content="windows,openafs,afs,secure endpoints,openafs windows,afs kerberos,kerberos 5,mit kerberos windows,krb5">
  <meta name="description" content="A summary of the most recent builds of OpenAFS for Windows">
	<meta name="Microsoft Theme" content="none, default">
</head>
<body>
<h1 style="text-align: center;">
<img src="images/oafw-logo.jpg" width="184" height="127" align="left">OpenAFS for Windows</h1>
OpenAFS is the world's foremost location independent file system.&nbsp;
With OpenAFS for Windows, users of Microsoft Windows 2000, XP, 2003, XP64, Vista
(32-bit and 64-bit editions, Server 2008 (32-bit and 64-bit editions), Windows 7
(all editions), and Server 2008 R2 (all editions) can make the most of this proven data sharing
solution.&nbsp; The OpenAFS Project provides binary installation packages
appropriate for both individual users and organizations with thousands
of members.<br>
<br>
<h2>Contents:</h2>
<ul>
<li><a href="#urgent_news">Urgent News</a></li>
<li><a href="#whichversion">How to Decide Which Version to Install</a></li>
<li><a href="#signatures">Digital Signatures</a></li>
<li><a href="#reports">Status Reports</a></li>
<li><a href="#release">OpenAFS for Windows 1.5.75</a></li>
	<ul>
		<li><a href="#1_5_features">Features</a>
		<li><a href="#1_5_docs">Documentation</a>
		<li><a href="#1_5_platforms">Supported Platforms</a>
		<li><a href="#1_5_issues">Known Issues</a>
		<li><a href="#1_5_32bit_downloads">32-bit Downloads</a>
		<li><a href="#1_5_64bit_downloads">64-bit Downloads</a>
	</ul>

<!--
<li><a href="#stable">Maintenance Release: OpenAFS for Windows 1.4.4</a></li>
-->
<li><a href="#kfw">MIT Kerberos for Windows</a></li>
<li><a href="#hotfix">Microsoft Hot Fixes</a></li>
</ul>
<h2><a name="urgent_news">Urgent News</a></h2>
<ul>
	<li>All versions of OpenAFS for Windows prior to 1.5.75 are incompatible 
	with Windows Security Update MS10-020 (KB980232).</li>
	<li>All versions of OpenAFS for Windows prior to 1.5.62 can experience data loss
when storing data to the file server.</li>
	<li>Windows 7 Upgrading:<ul>
		<li>&nbsp;Version 1.5.66 was the first release of OpenAFS for Windows
		that is supported on Windows 7.</li>
		<li>OpenAFS for Windows must be re-installed after a Windows 7 Upgrade.&nbsp;
		The Windows 7 Upgrade process will uninstall the Microsoft Loopback
		Adapter</li>
	</ul>
	</li>
</ul>
<h2><a name="whichversion">How to Decide Which Version to Install</a></h2>
<!--
<p>OpenAFS for Windows releases are labeled <b><i>Maintenance</i></b> or <b><i>
Features</i></b>.&nbsp; These labels are not related to the quality of the
release but to the source code repository branch from which the release is
generated.&nbsp; The <b><i>Maintenance</i></b> branch is a version of the source code
which is undergoing a slower rate of change.&nbsp; Where the <b><i>Features</i></b>
branch may be used to release one or more versions per month, the <b><i>
Maintenance</i></b>
branch is likely to have one release every six or more months.&nbsp; The <b><i>
Maintenance</i></b> branch is not used to deliver new functionality nor it is used to
support new platforms.&nbsp; Bugs will always be fixed in the <b><i>Features</i></b>
branch but may not always be fixed in the <b><i>Maintenance</i></b> branch.&nbsp;
Carefully review the feature list of the <b><i>Features</i></b> branch before
deciding against its use.&nbsp; Many of the features such as file locking, large
file support, and inline bulk status calls are crucial to obtaining good
performance with AFS and Microsoft Office applications among others.</p>
-->

<p>The following guidelines should be used for choosing an installer type.  If you are upgrading
from a previous installation, select the same type of installer, EXE or MSI, as was
previously installed on the system.  If you are installing for the first time, choose the
EXE if you are installing manually and the MSI if you either need to customize the
installation package (via a transform) or wish to deploy via Active Directory Group Policy.
</p>
<p>
Each installer is provided in debug and non-debug versions.  The debug versions should
be installed only when you are experiencing a problem and you need to assist
the OpenAFS developers in debugging the problem.  The non-debug version is optimized for
performance, does not generate logging information by default, and does not install
symbol files.<h3><a name="signatures">Digital Signatures</a></h3>
<p>
All of the installers are produced and signed by <a href="https://www.secure-endpoints.com" title="Secure Endpoints Inc.">
Secure Endpoints Inc.</a>.  If the signature is missing do not complete the installation
process and send e-mail to
<a href="mailto:openafs-security@openafs.org?subject=Missing or Incorrect Digital Signature">openafs-security@openafs.org</a>
<br>
<h3>
<a name="reports">Status Reports</a></h3>
<p>
<a href="https://www.secure-endpoints.com" title="Secure Endpoints Inc.">Secure Endpoints Inc.</a> periodically publishes a report on the current status of OpenAFS for Windows development.  The
<a title="OpenAFS for Windows Status Report - July 2008" target="_top" href="https://www.secure-endpoints.com/talks/OpenAFS-Windows-Jul-2008-Status-Report.pdf">most recent report</a>
was published in July 2008.
<a title="OpenAFS for Windows Status Report - July 2008" target="_top" href="https://www.secure-endpoints.com/talks/OpenAFS-Windows-Jul-2008-Status-Report.pdf">Read it today!</a>
<p>
<h2><a name="release">OpenAFS for Windows 1.5.75 (1.5.7500.0)</a></h2>
(updated 7 July 2010)<p>&nbsp;<img border="0" src="images/wVista-Works.png" width="209" height="93"></p>
<h3><a name="1_5_features"></a>Features:</h3>
<ul>
  <!--<li>All the features of the <a href="#stable">maintenance release</a></li> -->
	<li><span style>Starting with the 1.5.50 release of OpenAFS for Windows,
	each of the AFS Client Service, the AFS Explorer Shell Extension, and the
	command-line tools are Unicode enabled.&nbsp; No longer is OpenAFS restricted to
	accessing file system objects whose names can be represented in the locale
	specific OEM code page.&nbsp; This has significant benefits for end users.&nbsp; Most
	importantly it permits non-Western languages to now be used for file system
	object names in AFS from Microsoft Windows operating systems.&nbsp; Now that
	Unicode names are supported, </span>
	<a href="http://en.wikipedia.org/wiki/Roaming_user_profile"><span style>
	Roaming User Profiles</span></a><span style> and </span>
	<a href="http://en.wikipedia.org/wiki/Folder_redirection"><span style>Folder
	Redirection</span></a><span style> will no longer fail when a user attempts
	to store an object with a name that cannot be represented in the OEM code
	page.&nbsp;</span></li>
	<li>Compatible with all OpenAFS and IBM/Transarc AFS Server versions</li>
	<li>Support for all editions of Windows 7 and Windows Server 2008 R2</li>
	<li>Support for all editions of Windows Vista including SP1 and Windows
	Server 2008</li>
	<li>AFS credentials module for Network Identity Manager version 1 and
	version 2</li>
	<li>Support for 64-bit File Sizes on both 32-bit and 64-bit versions of
	Microsoft Windows</li>
  <li>Support for all AMD64 64-bit Windows platforms</li>
	<li>Implements Windows Byte Range Locking backed by AFS File Server Locks</li>
    <li>New commands:
  <ul>
	  <li>fs uuid [-generate]</li>
	  <li>fs chown -owner &lt;user name or id&gt; [-path &lt;dir/file path&gt;+] [-literal]</li>
	  <li>fs chgrp -group &lt;user name or id&gt; [-path &lt;dir/file path&gt;+] [-literal]</li>
  </ul>
	</li>
  <li>Improved CIFS protocol compatibility<ul>
	  <li>Compatible with XP, XP64, Server 2003, Vista, Server 2008, Windows 7
	  and Server 2008 R2.</li>
	  <li>Supports the SRVSVC and WKSSRV services providing an
	  improved \\AFS browsing experience.</li>
  </ul>
	</li>
  <li>Hard Dead and Connection Timeout values restricted to the CIFS Session Timeout value.<ul>
	  <li>CIFS Extended Timeouts are automatically detected when supported by
	  the installed version of mrxsmb.sys.&nbsp; See <a href="#hotfix">Microsoft Hot Fixes</a>.</li>
		</ul>
	</li>
	<li>Improved handling of Windows Standby/Hibernate modes when network access
	is unavailable</li>
	<li><i><b>Fixes critical data loss errors:</b></i><ul>
		<li><i><b>Prior to 1.5.15, write requests queued for background
		processing were not retried upon failure.</b></i></li>
		<li><b><i>Prior to 1.5.62, write requests whose file offset is not an
		even multiple of the cache buffer block size would fail to store all of
		the dirty data.</i></b></li>
		<li><b><i>Prior to 1.5.62, write requests to file servers that have 2GB
		file limits (aka IBM file servers and OpenAFS file servers older than
		1.3.70) can fail to store dirty data on the first StoreData RPC after a
		InitCallBackState RPC is received.</i></b></li>
	</ul>
	</li>
	<li>Increased cache hit ratio for data written to AFS by the local client</li>
	<li>Improved behavior when used behind Network Address Translation (NAT)
	devices</li>
	<li>Default chunk size increased to 1MB from 128KB as of 1.5.23 improving
	read and write performance.</li>
	<li><b>The 1.5.53 release fixed a
	significant memory leak (rx packets) in the rx rpc protocol library.</b></li>
	<li><b>The 1.5.56 and 1.5.57 releases fixes race conditions in the rx rpc protocol
	library that can result in the AFS Client Service terminating prematurely.</b></li>
	<li>The 1.5.60 release converts all documentation to Windows HTML Help and
	adds registry support for CellServDB information.</li>
	<li>1.5.66<ul>
		<li>Network Identity Manager OpenAFS Provider now provides its own &quot;AFS
		lock&quot; notification icon to report the status of &quot;have tokens, have no
		tokens, service not started, service started but inaccessible&quot;. Hovering
		over the icon lists the cells for which tokens exist (if any) and the
		OpenAFS version<br>number. Double-clicking executes the Network Identity
		Manager default action.</li>
		<li>disables the drive mapping functionality in the AFS Authentication
		Tool (afscreds) and AFS Configuration Tool (afs_config)</li>
		<li>Workaround a file server bug that can be triggered when extending
		the length of a file.</li>
		<li>Adds support for DNS SRV records _afs3-vlserver._udp.&lt;cellname&gt; in
		place of DNS AFSDB records.</li>
	</ul>
	</li>
	<li>1.5.75 provides compatibility with Windows Security Update MS10-020 
	(KB980232).</li>
</ul>
<h3><a name="1_5_docs"></a>Documentation:</h3>
<ul>
  <li>
	1.5.75 Release Notes <a title="OpenAFS for Windows 1.5.75 Release Notes (CHM)" target="_top" href="http://www.openafs.org/dl/openafs/1.5.75/winxp/ReleaseNotes.chm">
	(CHM)</a> <a title="OpenAFS for Windows 1.5.75 Release Notes (HTML)" target="_top" href="http://www.openafs.org/dl/openafs/1.5.75/winxp/ReleaseNotes/html/index.html">
	(HTML)</a><br>
  <li>
	<a title="OpenAFS for Windows 1.5.75 ChangeLog" href="http://dl.openafs.org/dl/openafs/1.5.75/winxp/afs-changes-since-1.2.txt">
	1.5.75 ChangeLog</a></li>
</ul>
<h3><a name="1_5_platforms"></a>Supported Platforms:</h3>
<ul>
	<li>Windows 7 and Server 2008 R2 (X86 and AMD64)</li>
	<li>Windows Server 2008 (X86 and AMD64) including SP1</li>
	<li>Windows Vista (X86 and AMD64) including SP1 and SP2</li>
	<li>Windows 2003 64 (AMD64) including SP1 and SP2</li>
	<li>Windows XP 64 (AMD64) including SP1 and SP2</li>
	<li>Windows 2003 R2 including SP1</li>
	<li>Windows 2003 including SP1 and SP2</li>
	<li>Windows XP including SP2 and SP3</li>
	<li>Windows 2000 Workstation and Server at SP4</li>
</ul>
<small>* Installers for Itanium systems are unavailable.  Organizations interested in support for Itanium should consider donating a development/test system to OpenAFS. </small>

<h3><a name="1_5_issues"></a>Known Issues:</h3>
<ul>
<li>If a *beta* AFS plug-in for Network Identity Manager is installed, it must
be uninstalled before OpenAFS 1.5.75 is installed.  Otherwise, an error indicating that the plug-in cannot be installed because the appropriate version of
OpenAFS is not installed will be generated.</li>
<li>The AFS plug-in for Network Identity Manager provided as part of OpenAFS
1.5.75 requires MIT Kerberos for Windows 3.1 or above.</li>
<li>Directory and File Change Notifications are ignored when accessing AFS via
UNC paths</li>
<li>Windows Vista Specific Issues<ul>
	<li>The help files provided with OpenAFS are in .HLP format.&nbsp;
	<a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=6ebcfad9-d3f5-4365-8070-334cd175d4bb&DisplayLang=en">WinHlp32.exe must be
	downloaded separately from Microsoft.</a>&nbsp; Secure Endpoints Inc. is funding the
development of compatible HtmlHelp (.CHM) files.</li>
</ul></li>
	<li>Windows 7 and Server 2008 R2 Specific Issues<ul>
		<li>There is a bug in Windows that will prevent access to
		<a href="file://AFS">\\AFS</a> after an IP address has been removed or
		assigned after boot.&nbsp; When the bug is triggered, all attempts to
		connect to <a href="file://AFS">\\AFS</a> will result in a &quot;Bad Network
		Name&quot; error.&nbsp; Please reproduce this issue locally and submit bug
		reports to Microsoft.</li>
		<li>All Vista issues apply as well.</li>
	</ul>
	</li>
</ul>
<h3><a name="1_5_32bit_downloads"></a>Downloads for 32-bit Windows operating systems: Vista/R2/2003/XP/2000:</h3>
<ul>
  <li>
	<a href="http://dl.openafs.org/dl/openafs/1.5.75/winxp/OpenAFSforWindows-1-5-7500.exe">32-bit EXE installer for individual installations</a>
  </li>
  <li>
	<a href="http://dl.openafs.org/dl/openafs/1.5.75/winxp/openafs-en_US-1-5-7500.msi">32-bit MSI installer for managed installations</a><br>
  </li>
</ul>

<h3><a name="1_5_64bit_downloads"></a>Downloads for 64-bit Windows operating systems: Vista/R2/2003/XP:</h3>
<ul>
  <li>
	<a href="http://dl.openafs.org/dl/openafs/1.5.75/winxp/openafs-en_US-64bit-1-5-7500.msi">64-bit MSI installer</a><br>
  </li>
</ul>
<blockquote>
	<h4>Support for 32-bit Windows Applications on 64-bit Windows operating systems</h4>
		<p>This installer is required for any 32-bit applications that require use of
	AFS libraries.&nbsp; This includes 32-bit versions of MIT Kerberos for
	Windows.</p>
	<ul>
		<li>
		<a href="http://dl.openafs.org/dl/openafs/1.5.75/winxp/openafs-32bit-tools-en_US-1-5-7500.msi">32-bit tools MSI installer</a><br>
		</li>
	</ul>
</blockquote>
<p>Note: In 64-bit versions of Microsoft Windows there are 64-bit and 32-bit versions
of the command prompt and the Explorer Shell.&nbsp; It is very important that
when installing applications that the installers be started from a 64-bit
process.&nbsp; It is strongly recommended that the Add/Remove Programs Control
Panel be used to initiate installations on 64-bit Microsoft Windows operating
systems.</p>

<!--
<h2><a name="stable">Maintenance Release: OpenAFS for Windows 1.4.4
(1.4.0400)</a></h2>
(released 19 March 2007)<br>
<h3>Features:</h3>
<ul>
  <li>The OpenAFS Client Service provides access seamless access to the
AFS file system</li>
  <ul>
    <li>Access AFS cells via the <span style="font-weight: bold;">\\AFS\</span><span
 style="font-style: italic; font-weight: bold;">cellname</span> UNC path</li>
  </ul>
  <li>Integrates with <a title="MIT Kerberos for Windows" href="#kfw">MIT
Kerberos for Windows</a> for Kerberos 5 authentication support</li>
  <li>The AFS Explorer Shell Extension provides the ability to
manipulate AFS objects and permissions from the Windows Explorer Shell</li>
  <li>The AFS System Tray tool can be used to obtain and monitor AFS
authentication credentials (tokens)</li>
  <li>The Integrated Logon facility allows AFS credentials to be obtained
during the Windows logon process enabling Windows Profiles and
Redirected Folders to be stored within AFS</li>
  <li>Automatic configuration of the Windows Internet Connection
Firewall</li>
  <li>Obtains AFS volume database server information via DNS</li>
  <li>Dynamic Root Volume support</li>
  <li>Cisco VPN compatible</li>
  <li>Persistent caches storing up to 1.2GB of data</li>
  <li>Supports AFS Universal Error Codes</li>
  <li>Major improvements to AFS SMB Server</li>
  <li>Improved detection of AFS servers brought back into service</li>
  <li>Improved maintenance of NAT port mappings</li>
  <li>Implements Windows Byte Range Locking without use of AFS File Locks</li>
  <li>Thread priorities are adjusted based upon age of CIFS requst</li>
  <li>Improved CIFS Server performance due to finer grained locking</li>
  <li>Improved resource recycling</li>
  <li>SDK is now installed at \Program Files\OpenAFS\SDK</li>
  <li>NSIS and WiX installer frameworks updated to the latest versions</li>
  <li>Improved Kerberos Logon Integration</li>
  <li>Better handling of dot directory in <b>fs</b> command</li>
  <li><b>fs setquota</b> and <b>fs mkmount</b> now behave the same as the UNIX versions</li>
  <li>Improved Loopback Adapter installer</li>
</ul>
<h3>Documentation:</h3>
<ul>
  <li>
	<a title="OpenAFS for Windows 1.4.4 Release Notes" target="_top" href="http://www.openafs.org/dl/openafs/1.4.4/winxp/relnotes-frames.htm">
	1.4.4 Release Notes</a><br>
  <li>
	<a href="http://www.openafs.org/dl/openafs/1.4.4/winxp/afs-changes-since-1.2.txt">1.4.4 ChangeLog</a></li>
  </li>
</ul>
<h3>Supported Platforms:</h3>
<ul>
	<li>Windows 2000 Workstation and Server</li>
	<li>Windows XP </li>
	<li>Windows XP SP2</li>
	<li>Windows 2003 </li>
	<li>Windows 2003 SP1</li>
	<li>Windows 2003 R2</li>
</ul>
<h3>Known Issues:</h3>
<ul>
<li>Data Corruption on Writes.&nbsp; If the network connectivity to the file
server is lost while background write operations have been queued, the writes
will not succeed and that data will not be written to the file server.&nbsp;
This leaves a hole in the file filled with NULs.&nbsp; This has been fixed in
releases 1.5.15 and above.</li>
<li>The AFS Servers (bos, file, ...) do not work<li>Directories with large
numbers of files or subdirectories will results in very high CPU utilization
when searched</li>
<li>Application file lock requests are granted without obtaining a
lock from the file server.&nbsp; This can lead to data corruption if two
applications are writing to the same file at the same time.</li>
</ul>
<h3>Downloads:</h3>
<ul>
  <li>
	<a href="http://www.openafs.org/dl/openafs/1.4.4/winxp/OpenAFSforWindows-1-4-4.exe">EXE installer for individual installations</a><br>
  </li>
  <li>
	<a href="http://www.openafs.org/dl/openafs/1.4.4/winxp/openafs-en_US-1-4-4.msi">MSI installer for managed installations</a><br>
  </li>
</ul>
-->

<h2><a name=kfw>MIT Kerberos for Windows</a></h2>
OpenAFS for Windows depends on
<a target="_self" href="http://web.mit.edu/kerberos/dist/index.html">MIT
Kerberos for Windows (KFW)</a>&nbsp; to provide Kerberos 5 functionality.&nbsp;
The recommended version of KFW for <a href="#release">
	OpenAFS for Windows 1.5.75</a> is version 3.2.2.
64-bit releases of KFW are available from
<a href="http://www.secure-endpoints.com/index.html#kfw">Secure Endpoints Inc.</a><p>KFW 3.2.2 ships 
with Network Identity Manager version 1.3.1.
<a href="https://www.secure-endpoints.com/netidmgr/v2/index.html">Secure Endpoints provides version 2.0 as a free 
update.</a></p>
&nbsp;<h2><a name="hotfix"></a>Microsoft Hotfixes</h2>
<p>Just as OpenAFS releases fixes on a continuous basis, so does Microsoft for their Windows products.
If they are security related or deemed to be critical to the entire user base these hot fixes are
pushed out via Microsoft's Windows Update service.  However, if the fix is considered to be relevant
only to a small user community, the hot fix is made available via a posting to
<a href="http://support.microsoft.com">Microsoft KnowledgeBase</a>.  When a new service pack is
issued all of the outstanding hot fixes are rolled up and regression tested together.</p>
<p>OpenAFS for Windows is highly dependent on the correct operation of Microsoft's SMB redirector
network file system driver and the Netbios communication stack.  Over the years there have been
a large number of bugs found and fixed within these two subsystems.  At the present time there
a hot fixes that have been issued by Microsoft which have yet to be bundled into a service pack
for XP 32-bit, XP 64-bit and Server 2003.&nbsp; Hot Fixes that are considered
critical for OpenAFS users are marked as such below.</p>

<h3>Microsoft Windows Server 2003 and XP64</h3>
<p>The current service pack level is 2.</p>
<ul>
	<li>CRITICAL! <a href="http://support.microsoft.com/kb/969289">
	http://support.microsoft.com/kb/969289</a>&nbsp; (XP 64-bit and Server 2003: not included in SP2)</li>
</ul>

<h3>Microsoft Windows XP</h3>
<p>The current service pack level is 3.</p>
<ul>
	<li><a href="http://support.microsoft.com/kb/916204">
	http://support.microsoft.com/kb/916204</a>&nbsp; (XP 32-bit included in SP3 but not SP2)</li>
	<li><a href="http://support.microsoft.com/kb/955535">
	http://support.microsoft.com/kb/955535</a>&nbsp; (XP 32-bit not in SP3 or SP2)</li>
	<li><a href="http://support.microsoft.com/kb/954956">
	http://support.microsoft.com/kb/954956</a>&nbsp; (XP 32-bit not in SP3 or SP2)</li>
	<li>CRITICAL! <a href="http://support.microsoft.com/kb/971421">
	http://support.microsoft.com/kb/971421</a>&nbsp; (XP 32-bit not in SP3 or SP2)&nbsp;
	Note: This hot fix was issued by Microsoft on 4 June 2009.&nbsp; It often
	takes several weeks for the knowledgebase article to be published.&nbsp;
	Contact Microsoft PSS and mention the kb number to obtain the hot fix
	package.</li>
</ul>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-5995928-1");
pageTracker._trackPageview();
} catch(err) {}
</script>
</body>
</html>
