<html><head><title>package</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Mon Jul 28 01:10:45 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>package - Provides instructions for the package command</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The package configuration file defines the file system elements that the <b>package</b> command creates or alters on the local disk of an AFS client machine it is configuring.
Use the <b>-config</b> or <b>-fullconfig</b> argument to the <b>package</b> command to identify the configuration file to use.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Summary_of_Configuration_File_Instructions"
>Summary of Configuration File Instructions</a></h2>

<p>The configuration file can include one or more instances of each of the following instructions,
each on its own line.
A more detailed description of each instruction&#39;s syntax follows this list.</p>

<dl>
<dt><a name="B"
>B</a></dt>

<dd>
<p>Defines a block special device,
such as a disk,
which deals with input in units of multi-byte command blocks.</p>

<dt><a name="C"
>C</a></dt>

<dd>
<p>Defines a character special device,
such as a terminal or tty,
which deals with input in single character units.</p>

<dt><a name="D"
>D</a></dt>

<dd>
<p>Creates a directory.</p>

<dt><a name="F"
>F</a></dt>

<dd>
<p>Creates or alters a file to match the contents of a specified source file.</p>

<dt><a name="L"
>L</a></dt>

<dd>
<p>Creates a symbolic link.</p>

<dt><a name="S"
>S</a></dt>

<dd>
<p>Defines a socket,
which is a communications device for UDP and TCP/IP connections.</p>

<dt><a name="%define"
>%define</a></dt>

<dd>
<p>Defines a variable or declares a string as defined.</p>

<dt><a name="%ifdef"
>%ifdef</a></dt>

<dd>
<p>Specifies an action to perform if a certain string is declared or defined.</p>

<dt><a name="%ifndef"
>%ifndef</a></dt>

<dd>
<p>Specifies an action to perform if a certain string is not declared or defined.</p>

<dt><a name="%include"
>%include</a></dt>

<dd>
<p>Includes a library file.</p>

<dt><a name="%undef"
>%undef</a></dt>

<dd>
<p>Declares a string not to be defined,
or a variable no longer to have a value.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_B_and_C_Instructions_for_Defining_Special_Devices"
>The B and C Instructions for Defining Special Devices</a></h2>

<p>The <code>B</code> instruction in a package configuration file defines a block special device,
such as a disk,
that deals with input in units of multi-byte command blocks.
The <code>C</code> instruction defines a character special device,
such as a terminal or tty,
that deals with input in single character units.
They share a common syntax:</p>

<pre>   (B | C) &#60;device&#62; &#60;major&#62; &#60;minor&#62; &#60;owner&#62; &#60;group&#62; &#60;mode&#62;</pre>

<p>where</p>

<dl>
<dt><a name="B"
>B</a></dt>

<dd>
<p>Indicates the definition of a block special device. It must be a capital letter.</p>

<dt><a name="C"
>C</a></dt>

<dd>
<p>Indicates the definition of character special device. It must be a capital letter.</p>

<dt><a name="&#60;device&#62;"
>&#60;device&#62;</a></dt>

<dd>
<p>Names the special device to define. To learn the name format appropriate to the machine&#39;s system type, consult the hardware or operating system documentation.</p>

<dt><a name="&#60;major&#62;"
>&#60;major&#62;</a></dt>

<dd>
<p>Specifies the device&#39;s major device number in decimal format. To learn the correct value for the machine&#39;s system type, consult the hardware or operating system documentation.</p>

<dt><a name="&#60;minor&#62;"
>&#60;minor&#62;</a></dt>

<dd>
<p>Specifies the device&#39;s minor device number in one of hexadecimal, octal, or decimal format. Precede a hexadecimal number with the string <code>0x</code> (zero and the letter <code>x</code>) or an octal number with a <code>0</code> (zero). A number without either prefix is interpreted as a decimal. To learn the correct value for the machine&#39;s system type, consult the hardware or operating system documentation.</p>

<dt><a name="&#60;owner&#62;"
>&#60;owner&#62;</a></dt>

<dd>
<p>Specifies the username or UNIX user ID (UID) of the user to be designated the device&#39;s owner in the output from the UNIX <code>ls -l</code> command.</p>

<dt><a name="&#60;group&#62;"
>&#60;group&#62;</a></dt>

<dd>
<p>Specifies the group name or UNIX group ID (GID) of the group to be designated the device&#39;s group in the output from the UNIX <code>ls -lg</code> command.</p>

<dt><a name="&#60;mode&#62;"
>&#60;mode&#62;</a></dt>

<dd>
<p>Defines the device&#39;s UNIX mode bits. Acceptable values are the standard three- or four-digit numbers corresponding to combinations of permissions. Examples: <code>755</code> corresponds to <code>rwxr-xr-x</code>, and <code>644</code> to <code>rw-r--r--</code>.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_D_Instruction_for_Creating_a_Directory"
>The D Instruction for Creating a Directory</a></h2>

<p>The <code>D</code> instruction in a package configuration file creates a directory on the local disk. If a symbolic link, file, or other element on the local disk has the same name, it is replaced with a directory. If the directory already exists, its owner, group, and mode bits are changed if necessary to conform with the instruction. The instruction has the following syntax:</p>

<pre>   D[I&#60;update_code&#62;] &#60;directory&#62; &#60;owner&#62; &#60;group&#62; &#60;mode&#62;</pre>

<p>where</p>

<dl>
<dt><a name="D"
>D</a></dt>

<dd>
<p>Indicates the creation of a directory. It must be a capital letter.</p>

<dt><a name="&#60;update_code&#62;"
>&#60;update_code&#62;</a></dt>

<dd>
<p>Modulates the directory creation instruction. It is optional and follows the letter <code>D</code> directly, without an intervening space. Choose one of the two acceptable values:</p>

<dl>
<dt><a name="X"
>X</a></dt>

<dd>
<p>Indicates that the directory is a lost+found directory (used by the <b>fsck</b> program).</p>

<dt><a name="R"
>R</a></dt>

<dd>
<p>Removes any subdirectory (along its contents) or file that exists in the existing directory on the local disk but for which an instruction does not appear in the configuration file.</p>
</dd>
</dl>

<dt><a name="&#60;directory&#62;"
>&#60;directory&#62;</a></dt>

<dd>
<p>Specifies the full pathname of the directory to create.</p>

<dt><a name="&#60;owner&#62;"
>&#60;owner&#62;</a></dt>

<dd>
<p>Specifies the username or UNIX user ID (UID) of the user to be designated the directory&#39;s owner in the output from the UNIX <code>ls -ld</code> command.</p>

<dt><a name="&#60;group&#62;"
>&#60;group&#62;</a></dt>

<dd>
<p>Specifies the name or UNIX group ID (GID) of the group to be designated the directory&#39;s group in the output from the UNIX <code>ls -lgd</code> command.</p>

<dt><a name="&#60;mode&#62;"
>&#60;mode&#62;</a></dt>

<dd>
<p>Defines the directory&#39;s UNIX mode bits. Acceptable values are the standard three- or four-digit numbers corresponding to combinations of permissions. Examples: <code>755</code> corresponds to <code>drwxr-xr-x</code>, and <code>644</code> to <code>drw-r--r--</code>.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_F_Instruction_for_Creating_or_Updating_a_File"
>The F Instruction for Creating or Updating a File</a></h2>

<p>The <code>F</code> instruction in a package configuration file creates or updates a file on the local disk by copying in the contents of the indicated source file, which can reside in AFS or on the local disk. If the <b>package</b> command interpreter cannot access the source file, it exits without executing any instruction in the configuration file.</p>

<p>If a file with the same name already exists on disk, the package command overwrites it with the contents of the source file, unless the <code>I</code> update code is used to prevent that. To add a <code>.old</code> extension to the current version of the file, include the <code>O</code> update code. To have the machine reboot automatically after the <b>package</b> program completes, include the <code>Q</code> update code.</p>

<p>If a symbolic link, directory, or other element on the local disk has the same name, it is replaced with the file (a directory&#39;s contents are first removed as necessary).</p>

<p>The instruction has the following syntax:</p>

<pre>   F[&#60;update_code&#62;] &#60;file&#62; &#60;source&#62; [&#60;owner&#62; &#60;group&#62; &#60;mode&#62;]</pre>

<p>where</p>

<dl>
<dt><a name="F"
>F</a></dt>

<dd>
<p>Indicates the creation or update of a file. It must be a capital letter.</p>

<dt><a name="&#60;update_code&#62;"
>&#60;update_code&#62;</a></dt>

<dd>
<p>Modulates the file creation instruction. It is optional and follows the letter <code>F</code> directly, without an intervening space. Choose one or more of the four acceptable values, and list them in any order:</p>

<dl>
<dt><a name="A"
>A</a></dt>

<dd>
<p>Indicates that the pathname in the &#60;source&#62; field is the complete pathname of the source file, including the filename. If this argument is omitted, the <b>package</b> command appends the pathname in the &#60;file&#62; field to the pathname in the &#60;source&#62; field to derive the source file&#39;s full name. This code allows the source and target filenames to differ.</p>

<dt><a name="I"
>I</a></dt>

<dd>
<p>Preserves the existing file called &#60;file&#62;, rather than overwriting it.</p>

<dt><a name="O"
>O</a></dt>

<dd>
<p>Saves the existing version of the file by appending a <code>.old</code> extension to it.</p>

<dt><a name="Q"
>Q</a></dt>

<dd>
<p>Causes the package command to exit with status code <code>4</code> if it overwrites the file. If the standard <b>package</b>-related changes have been made to the machine&#39;s AFS initialization file, then status code <code>4</code> causes the machine to reboot automatically. Use this code when the machine must reboot if updates to the file are to have any effect (for example, if the operating system file -- <em>/vmunix</em> or equivalent -- has changed).</p>
</dd>
</dl>

<dt><a name="&#60;file&#62;"
>&#60;file&#62;</a></dt>

<dd>
<p>Specifies the complete pathname on the local disk of the file to create or update, including the filename as the final element.</p>

<dt><a name="&#60;source&#62;"
>&#60;source&#62;</a></dt>

<dd>
<p>Specifies the pathname (local or AFS) of the file to copy to the local disk.</p>

<p>If the <code>A</code> update code is included, specify the source file&#39;s complete pathname. Otherwise, the <b>package</b> command derives the source file&#39;s full name by appending the <i>file</i> pathname to this pathname. For example, if the <code>A</code> update code is not included and the file <em>/afs/abc.com/rs_aix42/bin/grep</em> is the source file for the <em>/bin/grep</em> binary, the proper value in this field is <em>/afs/abc.com/rs_aix42</em>.</p>

<dt><a name="&#60;owner&#62;"
>&#60;owner&#62;</a></dt>

<dd>
<p>Specifies the username or UNIX user ID (UID) of the user to be designated the file&#39;s owner in the output from the UNIX <code>ls -l</code> command.</p>

<p>To copy the source file&#39;s owner to the target file, leave this field empty. In this case, the &#60;group&#62; and &#60;mode&#62; fields must also be empty.</p>

<dt><a name="&#60;group&#62;"
>&#60;group&#62;</a></dt>

<dd>
<p>Specifies the name or UNIX group ID (GID) of the group to be designated the file&#39;s group in the output from the UNIX <code>ls -lg</code> command.</p>

<p>To copy the source file&#39;s group to the target file, leave this field empty. In this case, the &#60;owner&#62; and &#60;mode&#62; fields must also be empty.</p>

<dt><a name="&#60;mode&#62;"
>&#60;mode&#62;</a></dt>

<dd>
<p>Defines the file&#39;s UNIX mode bits. Acceptable values are the standard three- or four-digit numbers corresponding to combinations of permissions. Examples: <code>755</code> corresponds to <code>rwxr-xr-x</code>, and <code>644</code> to <code>rw-r--r--</code>.</p>

<p>To copy the source file&#39;s mode bits to the target file, leave this field empty. In this case, the &#60;owner&#62; and &#60;group&#62; fields must also be empty.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_L_Instruction_for_Creating_a_Symbolic_Link"
>The L Instruction for Creating a Symbolic Link</a></h2>

<p>The <code>L</code> instruction in a package configuration file creates a symbolic link on the local disk to a directory or file that exists either in AFS or elsewhere on the local disk. As with the standard UNIX <code>ln -s</code> command, the link is created even if the actual file or directory does not exist.</p>

<p>If a file or directory on the local disk already has the same name, the <b>package</b> command replaces it with a symbolic link.</p>

<p>The instruction has the following syntax:</p>

<pre>   L[I&#60;update_code&#62;] &#60;link&#62; &#60;path&#62; [&#60;owner&#62; &#60;group&#62; &#60;mode&#62;]</pre>

<p>where</p>

<dl>
<dt><a name="L"
>L</a></dt>

<dd>
<p>Indicates the creation of a symbolic link. It must be a capital letter.</p>

<dt><a name="&#60;update_code&#62;"
>&#60;update_code&#62;</a></dt>

<dd>
<p>Modulates the link creation instruction. It is optional and follows the letter <code>L</code> directly, without an intervening space. Choose one or both of the acceptable values, and list them in any order:</p>

<dl>
<dt><a name="A"
>A</a></dt>

<dd>
<p>Indicates that the pathname in the &#60;path&#62; field is the complete pathname of the actual directory or file (including the filename for a file). If this argument is omitted, the <b>package</b> command appends the value in the &#60;link&#62; field to the pathname in the &#60;path&#62; field to derive the actual directory or file&#39;s full name. This code allows the name of the symbolic link and actual directory or file to differ.</p>

<dt><a name="I"
>I</a></dt>

<dd>
<p>Preserves the existing symbolic link called &#60;link&#62;, rather than overwriting it.</p>
</dd>
</dl>

<dt><a name="&#60;link&#62;"
>&#60;link&#62;</a></dt>

<dd>
<p>Specifies the complete local disk pathname of the symbolic link to create.</p>

<dt><a name="&#60;path&#62;"
>&#60;path&#62;</a></dt>

<dd>
<p>Specifies the pathname (local or AFS) of the directory or file to which the link refers. If the <code>A</code> update code is included, specify the directory or file&#39;s complete pathname. Otherwise, the <b>package</b> command derives the actual directory or file&#39;s full name by appending the value in the <i>link</i> field to this pathname. For example, if the <code>A</code> update code is not included and <em>/etc/ftpd</em> is a symbolic link to the file <em>/afs/abc.com/sun4x_56/etc/ftpd</em>, the proper value in this field is <em>/afs/abc.com/sun4x_56</em>.</p>

<p>The package command interpreter correctly handles pathnames that begin with the <code>./</code> (period, slash) or <code>../</code> (two periods, slash) notation, interpreting them relative to the current working directory from which the <b>package</b> command is invoked.</p>

<dt><a name="&#60;owner&#62;"
>&#60;owner&#62;</a></dt>

<dd>
<p>Specifies the username or UNIX user ID (UID) of the user to be designated the symbolic link&#39;s owner in the output from the UNIX <code>ls -l</code> command.</p>

<p>To designate the issuer of the package command (usually, the local superuser <code>root</code>) as the symbolic link&#39;s owner, leave this field empty. In this case, the &#60;group&#62; and &#60;mode&#62; fields must also be empty.</p>

<dt><a name="&#60;group&#62;"
>&#60;group&#62;</a></dt>

<dd>
<p>Specifies the name or UNIX group ID (GID) of the group to be designated the link&#39;s group in the output from the UNIX <code>ls -lg</code> command.</p>

<p>To have the symbolic link&#39;s group match the default group associated with the <b>package</b> command&#39;s issuer, leave this field empty. The issuer is usually the local superuser <code>root</code> and the default group is designated in the issuer&#39;s entry in the local <em>/etc/passwd</em> file or equivalent. If this field is left empty, the &#60;owner&#62; and &#60;mode&#62; fields must also be empty.</p>

<dt><a name="&#60;mode&#62;"
>&#60;mode&#62;</a></dt>

<dd>
<p>Defines the symbolic link&#39;s UNIX mode bits. Acceptable values are the standard three- or four-digit numbers corresponding to combinations of permissions. Examples: <code>755</code> corresponds to <code>rwxr-xr-x</code>, and <code>644</code> to <code>rw-r--r--</code>.</p>

<p>Leaving this field empty sets the symbolic link&#39;s mode bits to <code>777</code> (<code>rwxrwxrwx</code>). In this case, the &#60;owner&#62; and &#60;group&#62; fields must also be empty.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_S_Instruction_for_Creating_a_Socket"
>The S Instruction for Creating a Socket</a></h2>

<p>The <code>S</code> instruction in a package configuration file creates a socket (a communications device for UDP or TCP/IP connections) on the local disk. The instruction has the following syntax:</p>

<pre>   S &#60;socket&#62; [&#60;owner&#62; &#60;group&#62; &#60;mode&#62;]</pre>

<p>where</p>

<dl>
<dt><a name="S"
>S</a></dt>

<dd>
<p>Indicates the creation of a socket. It must be a capital letter.</p>

<dt><a name="&#60;socket&#62;"
>&#60;socket&#62;</a></dt>

<dd>
<p>Names the socket. The proper format depends on the local machine&#39;s operating system.</p>

<dt><a name="&#60;owner&#62;"
>&#60;owner&#62;</a></dt>

<dd>
<p>Specifies the username or UNIX user ID (UID) of the user to be designated the socket&#39;s owner in the output from the UNIX <code>ls -l</code> command.</p>

<p>To designate the issuer of the package command (usually, the local superuser <code>root</code>) as the socket&#39;s owner, leave this field empty. In this case, the &#60;group&#62; and &#60;mode&#62; fields must also be empty.</p>

<dt><a name="&#60;group&#62;"
>&#60;group&#62;</a></dt>

<dd>
<p>Specifies the name or UNIX group ID (GID) of the group to be designated the socket&#39;s group in the output from the UNIX <code>ls -lg</code> command.</p>

<p>To have the symbolic link&#39;s group match the default group associated with the <b>package</b> command&#39;s issuer, leave this field empty. The issuer is usually the local superuser <code>root</code> and the default group is designated in the issuer&#39;s entry in the local <em>/etc/passwd</em> file or equivalent. If this field is left empty, the &#60;owner&#62; and &#60;mode&#62; fields must also be empty.</p>

<dt><a name="&#60;mode&#62;"
>&#60;mode&#62;</a></dt>

<dd>
<p>Defines the socket&#39;s UNIX mode bits. Acceptable values are the standard three- or four-digit numbers corresponding to combinations of permissions. Examples: <code>755</code> corresponds to <code>rwxr-xr-x</code>, and <code>644</code> to <code>rw-r--r--</code>.</p>

<p>Leaving this field empty sets the symbolic link&#39;s mode bits to <code>777</code> (<code>rwxrwxrwx</code>), modulated by the cell&#39;s umask. In this case, the &#60;owner&#62; and &#60;group&#62; fields must also be empty.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_%define_or_%undef_Instructions"
>The %define or %undef Instructions</a></h2>

<p>The <code>%define</code> instruction in a package configuration file declares or defines a variable, depending on its number of arguments:</p>

<ul><li><p>If followed by a single argument, it declares that argument to be defined. The argument is then available as a controller when mentioned in <code>%ifdef</code> and <code>%ifndef</code> statements, which evaluate to <code>true</code> and <code>false</code> respectively.</p></li><li><p>If followed by two arguments, it defines the second argument as the value of the first. When the first argument appears later in this prototype or other prototype or library files as a variable -- surrounded by curly braces and preceded by a dollar sign, as in the example <code>${variable}</code> -- the <b>package</b> command interpreter substitutes the second argument for it.</p></li></ul>

<p>The <code>%undef</code> statement negates the effect of a previous <code>%define</code> statement, declaring its argument to be defined no longer, or to have a value no longer if it is a variable.</p>

<p>The syntax for the two types of instruction are as follows:</p>

<pre>   %define &#60;declaration&#62;
   %define &#60;variable&#62; &#60;value&#62;
   %undef  &#60;declaration&#62;
   %undef  &#60;variable&#62;</pre>

<p>where</p>

<dl>
<dt><a name="%define"
>%define</a></dt>

<dd>
<p>Indicates a definition statement.</p>

<dt><a name="%undef"
>%undef</a></dt>

<dd>
<p>Indicates a statement that negates a definition.</p>

<dt><a name="&#60;declaration&#62;"
>&#60;declaration&#62;</a></dt>

<dd>
<p>Names the string being declared by a <code>%define</code> statement, or negated by an <code>%undef</code> statement.</p>

<dt><a name="&#60;variable&#62;"
>&#60;variable&#62;</a></dt>

<dd>
<p>Specifies the name of the variable that a <code>%define</code> statement is defining, or an <code>%undef</code> statement is negating.</p>

<dt><a name="&#60;value&#62;"
>&#60;value&#62;</a></dt>

<dd>
<p>Specifies the value to substitute for the string in the &#60;variable&#62; field when it appears in the appropriate format (surrounded by curly braces and preceded by a dollar sign, as in the example <code>${variable}</code>), in this or other prototype and library files. It can include one or more words.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_%ifdef_and_%ifndef_Instructions"
>The %ifdef and %ifndef Instructions</a></h2>

<p>The <code>%ifdef</code> instruction in a package configuration file specifies one or more actions to perform if the indicated string has been declared by a single-argument <code>%define</code> statement, or is a variable for which a value has been defined by a two-argument <code>%define</code> statement.</p>

<p>Similarly, the <code>%ifndef</code> instruction specifies one or more actions to perform if the indicated string has not been declared or is a variable without a value, either because no <code>%define</code> statement has defined it or an <code>%undef</code> statement has undefined it.</p>

<p>In both cases, the optional <code>%else</code> statement specifies one or more alternate actions to perform if the first statement evaluates to <code>false</code>. (For an <code>%ifdef</code> statement, the <code>%else</code> statement is executed if the indicated string has never been declared or is a variable without a value, or if an <code>%undef</code> statement has undefined either one; for an <code>%ifndef</code> statement, it is executed if the string has been declared or is a variable with a value.)</p>

<p>It is possible to nest any number of <code>%ifdef</code> and <code>%ifndef</code> statements.</p>

<p>The two types of statement share a common syntax:</p>

<pre>   (%ifdef | %ifndef) &#60;declaration&#62;
       &#60;action&#62;+
   [%else [&#60;declaration&#62;]
       &#60;alternate_action&#62;+]
   %endif &#60;declaration&#62;</pre>

<p>where</p>

<dl>
<dt><a name="%ifdef"
>%ifdef</a></dt>

<dd>
<p>Indicates that the statement evaluates as true if the string in the &#60;declaration&#62; field is declared or is a variable with a defined value.</p>

<dt><a name="%ifndef"
>%ifndef</a></dt>

<dd>
<p>Indicates that the statement evaluates as true if the string in the &#60;declaration&#62; field is not declared or is a variable without a defined value.</p>

<dt><a name="&#60;declaration&#62;"
>&#60;declaration&#62;</a></dt>

<dd>
<p>Specifies the string that must be declared or the variable name that must have a defined value for an <code>%ifdef</code> statement to evaluate as <code>true</code>, which results in the specified action being performed. For an <code>%ifndef</code> statement, the string must not be declared or the variable must have no defined value for the statement to evaluate as <code>true</code>. The first and third occurrences of &#60;declaration&#62; (the latter following the string <code>%endif</code>) are required. The second occurrence (following the string <code>%else</code>) is optional, serving only to clarify to which <code>%ifdef</code> or <code>%ifndef</code> statement the <code>%else</code> statement belongs.</p>

<dt><a name="&#60;action&#62;"
>&#60;action&#62;</a></dt>

<dd>
<p>Specifies each action to perform if the <code>%ifdef</code> or <code>%ifndef</code> statement evaluates as <code>true</code>. Each action must appear on a separate line. Acceptable types of actions are other statements beginning with a percent sign and definition instructions.</p>

<dt><a name="&#60;alternate_action&#62;"
>&#60;alternate_action&#62;</a></dt>

<dd>
<p>Specifies each action to perform if the <code>%ifdef</code> or <code>%ifndef</code> statement evaluates to <code>false</code>. Each action must appear on a separate line. Acceptable types of actions are other statements beginning with a percent sign and definition instructions.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_%include_Instruction_for_Including_a_Library_File"
>The %include Instruction for Including a Library File</a></h2>

<p>The <code>%include</code> instruction in a package configuration file includes the contents of the indicated library file in a configuration file that results from the compilation of the prototype file in which the <code>%include</code> instruction appears. It has the following syntax:</p>

<pre>   %include &#60;pathname&#62;</pre>

<p>where</p>

<dl>
<dt><a name="%include"
>%include</a></dt>

<dd>
<p>Indicates a library file include statement.</p>

<dt><a name="&#60;pathname&#62;"
>&#60;pathname&#62;</a></dt>

<dd>
<p>Specifies the complete pathname of the library file to include. It can be in AFS or on the local disk, and can include one or more variables.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>The configuration file must be completely correct. If there are any syntax errors or incorrect values, the <b>package</b> command interpreter exits without executing any instruction.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following example <code>B</code> and <code>C</code> instructions define a disk <em>/dev/hd0a</em> with major and minor device numbers <code>1</code> and <code>0</code> and mode bits of <code>-rw-r--r--</code>, and a tty <em>/dev/ttyp5</em> with major and minor device numbers <code>6</code> and <code>5</code> and mode bits of <code>-rw-rw-rw</code>. In both cases, the owner is <code>root</code> and the owning group <code>wheel</code>.</p>

<pre>   B /dev/hd0a 1 0 root wheel 644
   C /dev/ttyp5 6 5 root wheel 666</pre>

<p>The following example <code>D</code> instruction creates the local <em>/usr</em> directory with owner <code>root</code> and group <code>wheel</code> and mode bits of <code>drwxr-xr-x</code>. The <code>R</code> update code removes any files and subdirectories that reside in the <em>/usr</em> directory (if it already exists) but do not appear in the configuration file.</p>

<pre>   DR /usr root wheel 755</pre>

<p>The following example <code>F</code> instruction, appropriate for a machine running AIX 4.2 in the ABC Corporation cell, creates or updates the local disk file <em>/bin/grep</em>, using <em>/afs/abc.com/rs_aix42/bin/grep</em> as the source.</p>

<pre>   F /bin/grep /afs/abc.com/rs_aix42 root wheel 755</pre>

<p>The next example <code>F</code> instruction creates the <em>/usr/vice/etc/ThisCell</em> file and specifies an absolute pathname for the source file, as indicated by the <code>A</code> update code. The <code>Q</code> code makes the <b>package</b> command return status code 4 as it exits, prompting a reboot of the machine if the standard <b>package</b>-related changes have been made to the machine&#39;s AFS initialization file. No values are provided for the owner, group and mode bits, so the file inherits them from the source file.</p>

<pre>   FAQ /usr/vice/etc/ThisCell /afs/abc.com/common/etc/ThisCell</pre>

<p>The following example <code>L</code> instruction, appropriate for a machine running AIX 4.2 in the ABC Corporation cell, creates a symbolic link from <em>/etc/ftpd</em> on the local disk to the file <em>/afs/abc.com/rs_aix42/etc/ftpd</em>.</p>

<pre>   L /etc/ftpd /afs/abc.com/rs_aix42 root wheel 644</pre>

<p>The following example S instruction defines the socket <em>/dev/printer</em>.</p>

<pre>   S /dev/printer root wheel 777</pre>

<p>The following example <code>%define</code> instruction defines the value for the variable <code>${diskmode}</code>. This variable is used elsewhere in the template to fill the &#60;owner&#62;, &#60;group&#62;, and &#60;mode&#62; fields in a <code>D</code>, <code>F</code>, or <code>L</code> instruction.</p>

<pre>   %define diskmode root wheel 644</pre>

<p>The following example <code>%undef</code> instruction declares the string <b>afsd</b> not to be defined.</p>

<pre>   %undef afsd</pre>

<p>The following example <code>%ifdef</code> instruction specifies that if the string <code>rs_aix42</code> is currently declared, then when the prototype file containing the instruction is compiled the three indicated library files are included. There is no alternate action defined. There must be <code>%define</code> statements earlier in the prototype file to declare <code>rs_aix42</code> and to assign a value to the <code>${wsadmin}</code> variable.</p>

<pre>   %ifdef rs_aix42
   %include ${wsadmin}/lib/rs_aix42.readonly
   %include ${wsadmin}/lib/rs_aix42.generic
   %include ${wsadmin}/lib/rs_aix42.generic.dev
   %endif rs_aix42</pre>

<p>The following example <code>%ifndef</code> instruction, appropriate for the State University cell, defines <code>stateu.edu</code> as the value of the <code>${cell}</code> variable if it does not already have a value.</p>

<pre>   %ifndef cell
   %define cell stateu.edu
   %endif cell</pre>

<p>The following example <code>%include</code> instruction includes the library file <code>base.generic</code> from the <em>lib</em> subdirectory of the directory in which <b>package</b>-related files reside. The <code>${wsadmin}</code> variable resolves to an actual pathname (such as <em>/afs/abc.com/wsadmin</em>) during compilation.</p>

<pre>   %include ${wsadmin}/lib/base.generic</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/package.html" class="podlinkman"
>package(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
