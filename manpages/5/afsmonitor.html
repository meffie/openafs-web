<html><head><title>afsmonitor</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Mon Jul 28 01:10:45 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>afsmonitor - Provides instructions for the afsmonitor command</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The afsmonitor configuration file determines which machines the <b>afsmonitor</b> command probes for File Server or Cache Manager statistics and which statistics it gathers.
Use the <b>-config</b> argument to the <b>afsmonitor</b> command to identify the configuration file to use.</p>

<p>The instructions that can appear in the configuration file are as follows:</p>

<dl>
<dt><a name="cm_&#60;host_name&#62;"
>cm &#60;<i>host name</i>&#62;</a></dt>

<dd>
<p>Names a client machine for which to display Cache Manager statistics.
The order of <code>cm</code> lines in the file determines the order in which client machines appear from top to bottom on the <code>System Overview</code> and <code>Cache Managers</code> output screens.</p>

<dt><a name="fs_&#60;host_name&#62;"
>fs &#60;<i>host name</i>&#62;</a></dt>

<dd>
<p>Names a file server machine for which to display File Server statistics.
The order of <code>fs</code> lines in the file determines the order in which file server machines appear from top to bottom on the <code>System Overview</code> and <code>File Servers</code> output screens.</p>

<dt><a name="thresh_(fs_|_cm)_&#60;field&#62;_&#60;thresh&#62;_[&#60;cmd&#62;]_[&#60;arg&#62;_...]"
>thresh (fs | cm) &#60;<i>field</i>&#62; &#60;<i>thresh</i>&#62; [&#60;<i>cmd</i>&#62;] [&#60;<i>arg</i>&#62; ...]</a></dt>

<dd>
<p>Assigns the threshold value <i>thresh</i> to the statistic <i>field</i>,
for either a File Server statistic (<code>fs</code>) or a Cache Manager statistic (<code>cm</code>).
The optional <i>cmd</i> field names a binary or script to execute each time the value of the statistic changes from being below <i>thresh</i> to being at or above <i>thresh</i>.
A change between two values that both exceed <i>thresh</i> does not retrigger the binary or script.
The optional <i>arg</i> fields are additional values that the <b>afsmonitor</b> program passes as arguments to the <i>cmd</i> command.
If any of them include one or more spaces,
enclose the entire field in double quotes.</p>

<p>The <b>afsmonitor</b> program passes the following parameters to the <i>cmd</i>:</p>

<pre>    &#60;hostname&#62; (fs|cm) &#60;field&#62; &#60;thresh&#62; &#60;actual&#62; [&#60;arg&#62; ...]</pre>

<p>The parameters <code>fs</code>, <code>cm</code>, &#60;field&#62;, &#60;thresh&#62;, and &#60;arg&#62; correspond to the values with the same name on the thresh line. The &#60;hostname&#62; parameter identifies the file server or client machine where the statistic has crossed the threshold, and the &#60;actual&#62; parameter is the actual value of &#60;field&#62; that exceeds the threshold value.</p>

<p>Use the <code>thresh</code> line to set either a global threshold, which applies to all file server machines listed on <code>fs</code> lines or client machines listed on <code>cm</code> lines in the configuration file, or a machine-specific threshold, which applies to only one file server or client machine.</p>

<ul><li><p>To set a global threshold, place the thresh line before any of the <code>fs</code> or <code>cm</code> lines in the file.</p></li><li><p>To set a machine-specific threshold, place the thresh line below the corresponding <code>fs</code> or <code>cm</code> line, and above any other <code>fs</code> or <code>cm</code> lines. A machine-specific threshold value always overrides the corresponding global threshold, if set. Do not place a <code>thresh fs</code> line directly after a <code>cm</code> line or a <code>thresh cm</code> line directly after a <code>fs</code> line.</p></li></ul>

<dt><a name="show_(fs_|_cm)_field/group/section"
>show (fs | cm) <i>field/group/section</i></a></dt>

<dd>
<p>Specifies which individual statistic, group of statistics, or section of statistics to display on the <code>File Servers</code> screen (<code>fs</code>) or <code>Cache Managers</code> screen (<code>cm</code>) and the order in which to display them. The appendix of <b>afsmonitor</b> statistics in the <i>IBM AFS Administration Guide</i> specifies the group and section to which each statistic belongs. Include as many <code>show</code> lines as necessary to customize the screen display as desired, and place them anywhere in the file. The top-to-bottom order of the <code>show</code> lines in the configuration file determines the left-to-right order in which the statistics appear on the corresponding screen.</p>

<p>If there are no <code>show</code> lines in the configuration file, then the screens display all statistics for both Cache Managers and File Servers. Similarly, if there are no <code>show fs</code> lines, the <code>File Servers</code> screen displays all file server statistics, and if there are no <code>show cm</code> lines, the <code>Cache Managers</code> screen displays all client statistics.</p>

<dt><a name="#_comments"
># <i>comments</i></a></dt>

<dd>
<p>Precedes a line of text that the afsmonitor program ignores because of the initial number (<code>#</code>) sign, which must appear in the very first column of the line.</p>
</dd>
</dl>

<p>For a list of the values that can appear in the <i>field/group/section</i> field of a <code>show</code> instruction, see the <b>afsmonitor</b> statistics appendix to the <i>IBM AFS Administration Guide</i>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../1/afsmonitor.html" class="podlinkman"
>afsmonitor(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
