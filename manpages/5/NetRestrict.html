<html><head><title>NetRestrict</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Wed Jul 16 06:01:56 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>NetRestrict - Defines interfaces not to register with AFS servers</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>There are two <em>NetRestrict</em> files,
one for an AFS client and one for an AFS File Server or database server.
The AFS client <em>NetRestrict</em> file specifies the IP addresses that the client should not register with the File Servers it connects to.
The server <em>NetRestrict</em> file specifies what interfaces should not be registered with AFS Database Servers or used to talk to other database servers.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Client_NetRestrict"
>Client NetRestrict</a></h2>

<p>The <em>NetRestrict</em> file,
if present in a client machine&#39;s <em>/usr/vice/etc</em> directory,
defines the IP addresses of the interfaces that the local Cache Manager does not register with a File Server when first establishing a connection to it.
For an explanation of how the File Server uses the registered interfaces,
see <a href="../5/NetInfo.html" class="podlinkman"
>NetInfo(5)</a>.</p>

<p>As it initializes,
the Cache Manager constructs a list of interfaces to register,
from the <em>/usr/vice/etc/NetInfo</em> file if it exists,
or from the list of interfaces configured with the operating system otherwise.
The Cache Manager then removes from the list any addresses that appear in the <em>NetRestrict</em> file,
if it exists.
The Cache Manager records the resulting list in kernel memory.</p>

<p>The <em>NetRestrict</em> file is in ASCII format.
One IP address appears on each line,
in dotted decimal format.
The order of the addresses is not significant.
The value <code>255</code> is a wildcard that represents all possible addresses in that field.
For example,
the value <code>192.12.105.255</code> indicates that the Cache Manager does not register any of the addresses in the <code>192.12.105</code> subnet.</p>

<p>To display the addresses the Cache Manager is currently registering with File Servers,
use the <b>fs getclientaddrs</b> command.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Server_NetRestrict"
>Server NetRestrict</a></h2>

<p>The <em>NetRestrict</em> file,
if present in the <em>/usr/afs/local</em> directory,
defines the following:</p>

<ul><li><p>On a file server machine,
the local interfaces that the File Server (<b>fileserver</b> process) does not register in the Volume Location Database (VLDB) at initialization time.</p></li><li><p>On a database server machine,
the local interfaces that the Ubik synchronization library does not use when communicating with the database server processes running on other database server machines.</p></li></ul>

<p>As it initializes,
the File Server constructs a list of interfaces to register,
from the <em>/usr/afs/local/NetInfo</em> file if it exists,
or from the list of interfaces configured with the operating system otherwise.
The File Server then removes from the list any addresses that appear in the <em>NetRestrict</em> file,
if it exists.
The File Server records the resulting list in the <em>/usr/afs/local/sysid</em> file and registers the interfaces in the VLDB.
The database server processes use a similar procedure when initializing,
to determine which interfaces to use for communication with the peer processes on other database machines in the cell.</p>

<p>The <em>NetRestrict</em> file is in ASCII format.
One IP address appears on each line,
in dotted decimal format.
The order of the addresses is not significant.
The value <code>255</code> is a wildcard that represents all possible addresses in that field.
For example,
the value <code>192.12.105.255</code> indicates that the File Server or database server processes do not register or use any of the addresses in the <code>192.12.105</code> subnet.</p>

<p>To display the File Server interface addresses registered in the VLDB,
use the <b>vos listaddrs</b> command.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/NetInfo.html" class="podlinkman"
>NetInfo(5)</a>,
<a href="../5/sysid.html" class="podlinkman"
>sysid(5)</a>,
<a href="../5/vldb.DB0.html" class="podlinkpod"
>vldb.DB0(5)</a>,
<a href="../8/fileserver.html" class="podlinkman"
>fileserver(8)</a>,
<a href="../1/fs_getclientaddrs.html" class="podlinkpod"
>fs_getclientaddrs(1)</a> <a href="../1/vos_listaddrs.html" class="podlinkpod"
>vos_listaddrs(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000.
&#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0.
It was converted from HTML to POD by software written by Chas Williams and Russ Allbery,
based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
