<html><head><title>fs_getclientaddrs</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Fri Jun 27 16:25:57 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>fs_getclientaddrs - Displays the client interfaces to register</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>fs getclientaddrs</b> [<b>-help</b>]</p>

<p><b>fs gc</b> [<b>-h</b>]</p>

<p><b>fs getcl</b> [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>fs getclientaddrs</b> command displays the IP addresses of the interfaces that the local Cache Manager registers with a File Server when first establishing a connection to it.</p>

<p>The File Server uses the addresses when it initiates a remote procedure call (RPC) to the Cache Manager (as opposed to responding to an RPC sent by the Cache Manager).
There are two common circumstances in which the File Server initiates RPCs: when it breaks callbacks and when it pings the client machine to verify that the Cache Manager is still accessible.</p>

<p>If an RPC to that interface fails,
the File Server simultaneously sends RPCs to all of the other interfaces in the list,
to learn which of them are still available.
Whichever interface replies first is the one to which the File Server then sends pings and RPCs to break callbacks.</p>

<p><a href="../1/fs_setclientaddrs.html" class="podlinkpod"
>fs_setclientaddrs(1)</a> explains how the Cache Manager constructs the list automatically in kernel memory as it initializes,
and how to use that command to alter the kernel list after initialization.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>The File Server uses the list of interfaces displayed by this command only when selecting an alternative interface after a failed attempt to break a callback or ping the Cache Manager.
When responding to the Cache Manager&#39;s request for file system data,
the File Server replies to the interface which the Cache Manager used when sending the request.
If the File Server&#39;s reply to a data request fails,
the file server machine&#39;s network routing configuration determines which alternate network routes to the client machine are available for resending the reply.</p>

<p>The displayed list applies to all File Servers to which the Cache Manager connects in the future.
It is not practical to register different sets of addresses with different File Servers,
because it requires using the <b>fs setclientaddrs</b> command to change the list and then rebooting each relevant File Server immediately.</p>

<p>The displayed list is not necessarily governing the behavior of a given File Server,
if an administrator has issued the <b>fs setclientaddrs</b> command since the Cache Manager first contacted that File Server.
It determines only which addresses the Cache Manager registers when connecting to File Servers in the future.</p>

<p>The list of interfaces does not influence the Cache Manager&#39;s choice of interface when establishing a connection to a File Server.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>The output displays the IP address of each interface that the Cache Manager is currently registering with File Server processes that it contacts,
with one address per line.
The File Server initially uses the first address for breaking callbacks and pinging the Cache Manager,
but the ordering of the other interfaces is not meaningful.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following example displays the two interfaces that the Cache Manager is registering with File Servers.</p>

<pre>   % fs getclientaddrs
   192.12.105.68
   192.12.108.84</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>None</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/fileserver.html" class="podlinkman"
>fileserver(8)</a>, <a href="../1/fs_setclientaddrs.html" class="podlinkpod"
>fs_setclientaddrs(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
