<html><head><title>vos_remove</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Mon Jul 28 01:10:45 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>vos_remove - Removes a volume from a site</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>vos remove</b> [<b>-server</b>&#160;&#60;<i>machine&#160;name</i>&#62;] [<b>-partition</b>&#160;&#60;<i>partition&#160;name</i>&#62;] <b>-id</b>&#160;&#60;<i>volume&#160;name&#160;or&#160;ID</i>&#62; [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-verbose</b>] [<b>-help</b>]</p>

<p><b>vos remo</b> [<b>-s</b>&#160;&#60;<i>machine&#160;name</i>&#62;] [<b>-p</b>&#160;&#60;<i>partition&#160;name</i>&#62;] <b>-i</b>&#160;&#60;<i>volume&#160;name&#160;or&#160;ID</i>&#62; [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-n</b>] [<b>-l</b>] [<b>-v</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>vos remove</b> command removes the indicated volume from the partition on which it resides.
The Volume Location Database (VLDB) record is altered appropriately,
as described in the following paragraphs.
Use this command to remove any of the three types of volumes; the effect depends on the type.</p>

<ul><li><p>If the <b>-id</b> argument names the read/write volume (that is,
specifies the volume&#39;s base name),
both it and the associated backup volume are removed from the partition that houses them.
The <b>-server</b> and <b>-partition</b> arguments are optional,
because there can be only one read/write site.
When the volume is removed,
the site information is also removed from the VLDB entry.
The read/write and backup volume ID numbers no longer appear in the output from the <b>vos listvldb</b> or <b>vos examine</b> commands,
but they are preserved internally.
Read-only sites,
if any,
are not affected,
but cannot be changed unless a read/write site is again defined.
The site count reported by the <b>vos examine</b> and <b>vos listvldb</b> commands as <code>number of sites</code> decrements by one.
The entire VLDB entry is removed if there are no read-only sites.</p></li><li><p>If the <b>-id</b> argument names a read-only volume,
it is removed from the partition that houses it,
and the corresponding site information is removed from the VLDB entry.
The site count reported by the <b>vos examine</b> and <b>vos listvldb</b> commands as <code>number of sites</code> decrements by one for each volume you remove.
If there is more than one read-only site,
the <b>-server</b> argument (and optionally <b>-partition</b> argument) must be used to specify the site from which to remove the volume.
If there is only one read-only site,
the <b>-id</b> argument is sufficient; if there is also no read/write volume in this case,
the entire VLDB entry is removed.</p></li><li><p>If the <b>-id</b> argument names a backup volume,
it is removed from the partition that houses it.
The <b>-server</b> and <b>-partition</b> arguments are optional,
because there can be only one backup site.
The backup volume ID number no longer appears in the output from the <b>vos listvldb</b> command or in the corresponding portion of the output from the <b>vos examine</b> command,
but is preserved internally.</p></li></ul>

<p>This command is the most appropriate one for removing volumes in almost all cases.
Other commands that remove only volumes or only VLDB entries (such as the <b>vos delentry</b>,
<b>vos remsite</b> and <b>vos zap</b> commands) by definition can put the volumes and VLDB out of sync.
Use them only in the special circumstances mentioned on their reference pages.
Like the <b>vos delentry</b> command,
this command can remove a VLDB entry when no corresponding volumes exist on the file server machine.
Like the <b>vos zap</b> command,
this command can remove a volume that does not have a VLDB entry,
as long as the volume is online,
<b>-server</b> and <b>-partition</b> arguments are provided,
and the <b>-id</b> argument specifies the volume&#39;s ID number.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-server_&#60;server_name&#62;"
><b>-server</b> &#60;<i>server name</i>&#62;</a></dt>

<dd>
<p>Identifies the file server machine that houses the volume to remove.
It is necessary only when the <b>-id</b> argument names a read-only volume that exists at multiple sites.
Provide the machine&#39;s IP address or its host name (either fully qualified or using an unambiguous abbreviation).
For details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-partition_&#60;partition_name&#62;"
><b>-partition</b> &#60;<i>partition name</i>&#62;</a></dt>

<dd>
<p>Identifies the partition (on the file server machine specified by the <b>-server</b> argument) that houses the volume to remove.
Provide the partition&#39;s complete name with preceding slash (for example,
<code>/vicepa</code>) or use one of the three acceptable abbreviated forms.
For details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<p>Including this argument is necessary only when the <b>-id</b> argument names a read-only volume that exists at multiple sites.
Provide the <b>-server</b> argument along with this one.</p>

<dt><a name="-id_&#60;volume_name_or_id&#62;"
><b>-id</b> &#60;<i>volume name or id</i>&#62;</a></dt>

<dd>
<p>Identifies the volume to remove,
either by its complete name or volume ID number.
If identifying a read-only or backup volume by name,
include the appropriate extension (<code>.readonly</code> or <code>.backup</code>).</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command.
Do not combine this argument with the <b>-localauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Assigns the unprivileged identity <code>anonymous</code> to the issuer.
Do not combine this flag with the <b>-localauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file.
The <b>vos</b> command interpreter presents it to the Volume Server and Volume Location Server during mutual authentication.
Do not combine this flag with the <b>-cell</b> argument or <b>-noauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-verbose"
><b>-verbose</b></a></dt>

<dd>
<p>Produces on the standard output stream a detailed trace of the command&#39;s execution.
If this argument is omitted,
only warnings and error messages appear.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following example removes the read/write volume <code>user.terry</code> and its backup version,
if any.</p>

<pre>   % vos remove  -id user.terry</pre>

<p>The following example removes the read-only volume <code>root.afs.readonly</code> from one of its sites, the <em>/vicepa</em> partition on the file server machine <code>fs1.abc.com</code>.</p>

<pre>   % vos remove fs1.abc.com  a  root.afs.readonly</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be listed in the <em>/usr/afs/etc/UserList</em> file on the machine specified with the <b>-server</b> argument and on each database server machine. If the <b>-localauth</b> flag is included, the issuer must instead be logged on to a server machine as the local superuser <code>root</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../1/vos.html" class="podlinkman"
>vos(1)</a>, <a href="../1/vos_delentry.html" class="podlinkpod"
>vos_delentry(1)</a>, <a href="../1/vos_remsite.html" class="podlinkpod"
>vos_remsite(1)</a>, <a href="../1/vos_zap.html" class="podlinkpod"
>vos_zap(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
