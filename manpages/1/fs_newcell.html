<html><head><title>fs_newcell</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Sat Mar 29 18:17:41 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>fs_newcell - Changes the kernel-resident list of a cell&#39;s database servers</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>fs newcell</b> <b>-name</b>&#160;&#60;<i>cell&#160;name</i>&#62; -servers &#60;<i>primary servers</i>&#62;+ [<b>-linkedcell</b>&#160;&#60;<i>linked&#160;cell&#160;name</i>&#62;] [<b>-help</b>]</p>

<p><b>fs n</b> <b>-n</b>&#160;&#60;<i>cell&#160;name</i>&#62; <b>-s</b>&#160;&#60;<i>primary&#160;servers</i>&#62;+ [<b>-l</b>&#160;&#60;<i>linked&#160;cell&#160;name</i>&#62;] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>fs newcell</b> command removes the Cache Manager&#39;s kernel-resident list of database server machines for the cell specified by the <b>-name</b> argument and replaces it with the database server machines named by the <b>-servers</b> argument.</p>

<p>Each time the machine reboots,
the Cache Manager constructs the kernel list of cells and database server machines by reading the local <em>/usr/vice/etc/CellServDB</em> file.
This command does not change the <em>CellServDB</em> file,
so any changes made with it persist only until the next reboot,
unless the issuer also edits the file.
The output of the <b>fs listcells</b> command reflects changes made with this command,
because that command consults the kernel-resident list rather than the <em>CellServDB</em> file.</p>

<p>This command can introduce a completely new cell into the kernel-resident list,
but cannot make a cell inaccessible (it is not possible to remove a cell&#39;s entry from the kernel-resident list by providing no values for the <b>-server</b> argument).
To make a cell inaccessible,
remove its entry from the <em>CellServDB</em> file and reboot the machine.</p>

<p>If the <b>-name</b> argument names a DCE cell,
then the <b>-servers</b> argument names DFS Fileset Location (FL) Server machines.
The <b>-linkedcell</b> argument specifies the name of the AFS cell to link to a DCE cell for the purpose of DFS fileset location.
Refer to the <i>IBM AFS/DFS Migration Toolkit Administration Guide and Reference</i> for more information on linking AFS clients to DCE cells using this command or by editing the <em>/usr/vice/etc/CellServDB</em> file.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>Some commands,
such as the <b>klog</b> command,
work correctly only when the information is accurate for a cell in both the <em>CellServDB</em> file and the kernel-resident list.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-name_&#60;cell_name&#62;"
><b>-name</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Specifies the fully-qualified cell name of the AFS or DCE cell.</p>

<dt><a name="-servers_&#60;primary_servers&#62;+"
><b>-servers</b> &#60;<i>primary servers</i>&#62;+</a></dt>

<dd>
<p>Specifies the fully-qualified hostnames of all AFS database server machines or DFS Fileset Location (FL) Server machines for the cell named by the <b>-name</b> argument.
If FL Server machines are specified,
the local machine must be running the AFS/DFS Migration Toolkit Protocol Translator.</p>

<dt><a name="-linkedcell_&#60;linked_cell_name&#62;"
><b>-linkedcell</b> &#60;<i>linked cell name</i>&#62;</a></dt>

<dd>
<p>Specifies the name of the AFS cell to link to a DCE cell for the purpose of DFS fileset location.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following example changes the machine&#39;s kernel-resident list of database server machines for the ABC Corporation cell to include the machines <code>db1.abc.com</code> and <code>db2.abc.com</code>:</p>

<pre>   % fs newcell -name abc.com -servers db1.abc.com db2.abc.com</pre>

<p>The following example links the DCE cell <code>dce.abc.com</code> to the AFS cell <code>abc.com</code>. The AFS client contacts the Fileset Location (FL) servers <code>db1.dce.abc.com</code> and <code>db2.dce.abc.com</code> for fileset location information as it interprets a DFS pathname.</p>

<pre>   % fs newcell -name dce.abc.com \
       -servers db1.dce.abc.com db2.dce.abc.com \
       -linkedcell abc.com</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be logged in as the local superuser root.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/CellServDB.html" class="podlinkman"
>CellServDB(5)</a>, <a href="../1/fs_listcells.html" class="podlinkpod"
>fs_listcells(1)</a></p>

<p><i>IBM AFS/DFS Migration Toolkit Administration Guide and Reference</i></p>

<p><i>IBM AFS/DFS Migration Toolkit Administration Installation and Configuration Guide</i></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
