<html><head><title>cmdebug</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Tue Nov 11 07:45:43 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>cmdebug - Reports the status of a host Cache Manager</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>cmdebug</b> <b>-servers</b>&#160;&#60;<i>machine</i>&#62; [<b>-port</b>&#160;&#60;<i>IP&#160;port</i>&#62;] [<b>-long</b>] [<b>-refcounts</b>] [<b>-callbacks</b>] [<b>-ctime</b>] [<b>-addrs</b>] [<b>-cache</b>] [<b>-cellservdb</b>] [<b>-help</b>]</p>

<p><b>cmdebug</b> <b>-s</b>&#160;&#60;<i>machine</i>&#62; [<b>-p</b>&#160;&#60;<i>IP&#160;port</i>&#62;] [<b>-l</b>] [<b>-r</b>] [<b>-cal</b>] [<b>-ct</b>] [<b>-a</b>] [<b>-cac</b>] <b>-ce</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>cmdebug</b> command displays information about the Cache Manager and client cache status on a local or remote AFS client machine.
By default,
it displays all locked cache entries,
but other information can be requested via various options.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>The <b>-ctime</b> option is only available with OpenAFS version 1.4.7 and later or version 1.5.28 or later.
This option can be used to gather information from any version of the Unix OpenAFS client,
but can only query Windows clients running OpenAFS version 1.5.28 or later.</p>

<p>The <b>-cellservdb</b> option is only available with OpenAFS version 1.4.7 and later or version 1.5.31 or later.
This option can be used to gather information from any version of the Unix OpenAFS client,
but can only query Windows clients running OpenAFS version 1.5.31 or later.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-servers_&#60;machine&#62;"
><b>-servers</b> &#60;<i>machine</i>&#62;</a></dt>

<dd>
<p>Names the client machine for which to display Cache Manager status.
Provide the machine&#39;s IP address in dotted decimal format,
its fully qualified host name (for example,
<b>fs1.example.com</b>),
or the shortest abbreviated form of its host name that distinguishes it from other machines.
Successful use of an abbreviated form depends on the availability of a name resolution service (such as the Domain Name Service or a local host table) at the time the command is issued.</p>

<dt><a name="-port_&#60;IP_port&#62;"
><b>-port</b> &#60;<i>IP port</i>&#62;</a></dt>

<dd>
<p>Identifies the port on which to contact the Cache Manager.
By default,
the standard port 7001 is used,
so this option is very rarely needed.</p>

<dt><a name="-long"
><b>-long</b></a></dt>

<dd>
<p>Reports on all lock statuses and all cache entries,
rather than only locked cache entries.
Do not use this option with <b>-refcounts</b>,
<b>-callbacks</b>,
<b>-addrs</b>,
<b>-cache</b>,
or <b>-cellservdb</b>.</p>

<dt><a name="-refcounts"
><b>-refcounts</b></a></dt>

<dd>
<p>Reports only those cache entries with non-zero reference counts.
Do not use this option with <b>-long</b>,
<b>-callbacks</b>,
<b>-addrs</b>,
or <b>-cache</b>.</p>

<dt><a name="-callbacks"
><b>-callbacks</b></a></dt>

<dd>
<p>Reports only those cache entries with callbacks.
Do not use this option with <b>-long</b>,
<b>-refcounts</b>,
<b>-addrs</b>,
or <b>-cache</b>.</p>

<dt><a name="-ctime"
><b>-ctime</b></a></dt>

<dd>
<p>Causes entry expiration times to be shown in human-readable format.
Do not use this option with <b>-addrs</b> or <b>-cache</b>.</p>

<dt><a name="-addrs"
><b>-addrs</b></a></dt>

<dd>
<p>Rather than showing any cache entries,
displays the interfaces the Cache Manager answers on,
including their netmasks and MTUs.
This is useful for analyzing clients that are multihomed and identifying problems with netmasks or MTU settings.
Do not use this option with <b>-long</b>,
<b>-refcounts</b>,
<b>-callbacks</b>,
or <b>-cache</b>.</p>

<dt><a name="-cache"
><b>-cache</b></a></dt>

<dd>
<p>Rather than showing any cache entries,
displays the cache configuration for the client machine.
The information displayed is essentially the information that can be configured via parameters to <b>afsd</b>.
Do not use this option with <b>-long</b>,
<b>-refcounts</b>,
<b>-callbacks</b>,
or <b>-addrs</b>.</p>

<dt><a name="-cellservdb"
><b>-cellservdb</b></a></dt>

<dd>
<p>Lists all known volume location database records in a CellServDB-compatible format.
This includes all records in memory,
including those from the CellServDB file,
AFSDB DNS records,
and the <b>fs newcell</b> command.
This option could be used to see if a client has the latest copy of the CellServDB file.
Do not use this option with <b>-long</b>,
<b>-refcounts</b>,
<b>-callbacks</b>,
or <b>-cache</b>.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>Displays all of the locked cache entries on <code>client1</code>:</p>

<pre>    % cmdebug client1</pre>

<p>Displays the cache configuration for <code>client1.example.com</code>:</p>

<pre>    % cmdebug client1.example.com -cache</pre>

<p>Displays all cache entries for <code>client2.example.com</code>:</p>

<pre>    % cmdebug client2.example.com -long</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>None</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/afsd.html" class="podlinkman"
>afsd(8)</a>, <a href="../5/CellServDB.html" class="podlinkman"
>CellServDB(5)</a>, <a href="../1/fs_newcell.html" class="podlinkpod"
>fs_newcell(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2005 Russ Allbery &#60;rra@stanford.edu&#62;</p>

<p>This documentation is covered by the IBM Public License Version 1.0. This man page was written by Russ Allbery for OpenAFS.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
