<html><head><title>afs</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Sat Mar 29 18:17:40 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>afs - Introduction to AFS commands</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>AFS provides many commands that enable users and system administrators to use and customize its features.
Many of the commands belong to the following categories,
called <i>command suites</i>.</p>

<dl>
<dt><a name="backup"
>backup</a></dt>

<dd>
<p>Interface for configuring and operating the AFS Backup System.</p>

<dt><a name="bos"
>bos</a></dt>

<dd>
<p>Interface to the Basic Overseer (BOS) Server for administering server processes and configuration files.</p>

<dt><a name="fs"
>fs</a></dt>

<dd>
<p>Interface for administering access control lists (ACLs),
the Cache Manager,
and other miscellaneous file system functions.</p>

<dt><a name="fstrace"
>fstrace</a></dt>

<dd>
<p>Interface for tracing Cache Manager operations when debugging problems.</p>

<dt><a name="kas"
>kas</a></dt>

<dd>
<p>Interface to the Authentication Server for administering security and authentication information.</p>

<dt><a name="pts"
>pts</a></dt>

<dd>
<p>Interface to the Protection Server for administering AFS ID and group membership information.</p>

<dt><a name="uss"
>uss</a></dt>

<dd>
<p>Interface for automated administration of user accounts.</p>

<dt><a name="vos"
>vos</a></dt>

<dd>
<p>Interface to the Volume Server and Volume Location (VL) Server for administering volumes.</p>
</dd>
</dl>

<p>In addition,
there are several commands that do not belong to suites.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="AFS_Command_Syntax"
>AFS Command Syntax</a></h2>

<p>AFS commands that belong to suites have the following structure:</p>

<p><i>command_suite</i> <i>operation_code</i> <b>-switch</b> &#60;<i>value</i>&#62;[+] [<b>-flag</b>]</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Command_Names"
>Command Names</a></h3>

<p>Together,
the <i>command_suite</i> and <i>operation_code</i> make up the <i>command name</i>.</p>

<p>The <i>command_suite</i> specifies the group of related commands to which the command belongs,
and indicates which command interpreter and server process perform the command.
AFS has several command suites,
including <b>bos</b>,
<b>fs</b>,
<b>kas</b>,
<b>package</b>,
<b>pts</b>,
<b>uss</b> and <b>vos</b>.
Some of these suites have an interactive mode in which the issuer omits the <i>operation_code</i> portion of the command name.</p>

<p>The <i>operation_code</i> tells the command interpreter and server process which action to perform.
Most command suites include several operation codes.
The man pages for each command name describe each operation code in detail,
and the <i>IBM AFS Administration Guide</i> describes how to use them in the context of performing administrative tasks.</p>

<p>Several AFS commands do not belong to a suite and so their names do not have a <i>command_suite</i> portion.
Their structure is otherwise similar to the commands in the suites.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Options"
>Options</a></h3>

<p>The term <i>option</i> refers to both arguments and flags,
which are described in the following sections.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<p>One or more arguments can follow the command name.
Arguments specify the entities on which to act while performing the command (for example,
which server machine,
server process,
or file).
To minimize the potential for error,
provide a command&#39;s arguments in the order prescribed in its syntax definition.</p>

<p>Each argument has two parts,
which appear in the indicated order:</p>

<ul><li><p>The <i>switch</i> specifies the argument&#39;s type and is preceded by a hyphen (<b>-</b>).
For instance,
the switch <b>-server</b> usually indicates that the argument names a server machine.
Switches can often be omitted,
subject to the rules outlined in <a href="#Conditions_for_Omitting_Switches" class="podlinkpod"
>&#34;Conditions for Omitting Switches&#34;</a>.</p></li><li><p>The <i>value</i> names a particular entity of the type specified by the preceding switch.
For example,
the proper value for a <b>-server</b> switch is a server machine name like <code>fs3.abc.com</code>.
Unlike switches (which have a required form),
values vary depending on what the issuer wants to accomplish.
Values appear surrounded by angle brackets (<code>&#60;&#62;</code>) in command descriptions and the online help to show that they are user-supplied variable information.</p></li></ul>

<p>Some arguments accept multiple values,
as indicated by trailing plus sign (<code>+</code>) in the command descriptions and online help.
How many of a command&#39;s arguments take multiple values,
and their ordering with respect to other arguments,
determine when it is acceptable to omit switches.
See <a href="#Conditions_for_Omitting_Switches" class="podlinkpod"
>&#34;Conditions for Omitting Switches&#34;</a>.</p>

<p>Some commands have optional as well as required arguments; the command descriptions and online help show optional arguments in square brackets (<code>[]</code>).</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Flags"
>Flags</a></h3>

<p>Some commands have one or more flags,
which specify the manner in which the command interpreter and server process perform the command,
or what kind of output it produces.
Flags are preceded by hyphens like switches,
but they take no values.
Although the command descriptions and online help generally list a command&#39;s flags after its arguments,
there is no prescribed order for flags.
They can appear anywhere on the command line following the operation code,
except in between the parts of an argument.
Flags are always optional.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="An_Example_Command"
>An Example Command</a></h3>

<p>The following example illustrates the different parts of a command that belongs to an AFS command suite.</p>

<pre>   % bos getdate -server fs1.abc.com -file ptserver kaserver</pre>

<p>where</p>

<ul><li><p><b>bos</b> is the command suite. The BOS Server executes most of the commands in this suite.</p></li><li><p><b>getdate</b> is the operation code. It tells the BOS Server on the specified server machine (in this case <code>fs1.abc.com</code>) to report the modification dates of binary files in the local <em>/usr/afs/bin</em> directory.</p></li><li><p><code>-server fs1.abc.com</code> is one argument, with <b>-server</b> as the switch and <code>fs1.abc.com</code> as the value. This argument specifies the server machine on which BOS Server is to collect and report binary dates.</p></li><li><p><code>-file ptserver kaserver</code> is an argument that takes multiple values. The switch is <b>-file</b> and the values are <code>ptserver</code> and <code>kaserver</code>. This argument tells the BOS Server to report the modification dates on the files <em>/usr/afs/bin/kaserver</em> and <em>/usr/afs/bin/ptserver</em>.</p></li></ul>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Rules_for_Entering_AFS_Commands"
>Rules for Entering AFS Commands</a></h3>

<p>Enter each AFS command on a single line (press &#60;Return&#62; only at the end of the command). Some commands in this document appear broken across multiple lines, but that is for legibility only.</p>

<p>Use a space to separate each element on a command line from its neighbors. Spaces rather than commas also separate multiple values of an argument.</p>

<p>In many cases, the issuer of a command can reduce the amount of typing necessary by using one or both of the following methods:</p>

<ul><li><p>Omitting switches.</p></li><li><p>Using accepted abbreviations for operation codes, switches (if they are included at all), and some types of values.</p></li></ul>

<p>The following sections explain the conditions for omitting or shortening parts of the command line. It is always acceptable to type a command in full, with all of its switches and no abbreviations.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Conditions_for_Omitting_Switches"
>Conditions for Omitting Switches</a></h4>

<p>It is always acceptable to type the switch part of an argument, but in many cases it is not necessary. Specifically, switches can be omitted if the following conditions are met.</p>

<ul><li><p>All of the command&#39;s required arguments appear in the order prescribed by the syntax statement.</p></li><li><p>No switch is provided for any argument.</p></li><li><p>There is only one value for each argument (but note the important exception discussed in the following paragraph).</p></li></ul>

<p>Omitting switches is possible only because there is a prescribed order for each command&#39;s arguments. When the issuer does not include switches, the command interpreter relies instead on the order of arguments; it assumes that the first element after the operation code is the command&#39;s first argument, the next element is the command&#39;s second argument, and so on. The important exception is when a command&#39;s final required argument accepts multiple values. In this case, the command interpreter assumes that the issuer has correctly provided one value for each argument up through the final one, so any additional values at the end belong to the final argument.</p>

<p>The following list describes the rules for omitting switches from the opposite perspective: an argument&#39;s switch must be provided when any of the following conditions apply.</p>

<ul><li><p>The command&#39;s arguments do not appear in the prescribed order.</p></li><li><p>An optional argument is omitted but a subsequent optional argument is provided.</p></li><li><p>A switch is provided for a preceding argument.</p></li><li><p>More than one value is supplied for a preceding argument (which must take multiple values, of course); without a switch on the current argument, the command interpreter assumes that the current argument is another value for the preceding argument.</p></li></ul>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="An_Example_of_Omitting_Switches"
>An Example of Omitting Switches</a></h4>

<p>Consider again the example command from <a href="#An_Example_Command" class="podlinkpod"
>&#34;An Example Command&#34;</a>.</p>

<pre>   % bos getdate -server fs1.abc.com -file ptserver kaserver</pre>

<p>This command has two required arguments: the server machine name (identified by the <b>-server</b> switch) and binary file name (identified by the <b>-file</b> switch). The second argument accepts multiple values. By complying with all three conditions, the issuer can omit the switches:</p>

<pre>   % bos getdate fs1.abc.com ptserver kaserver</pre>

<p>Because there are no switches, the bos command interpreter relies on the order of arguments. It assumes that the first element following the operation code, <code>fs1.abc.com</code>, is the server machine name, and that the next argument, <code>ptserver</code>, is a binary file name. Then, because the command&#39;s second (and last) argument accepts multiple values, the command interpreter correctly interprets <code>kaserver</code> as an additional value for it.</p>

<p>On the other hand, the following is not acceptable because it violates the first two conditions in <a href="#Conditions_for_Omitting_Switches" class="podlinkpod"
>&#34;Conditions for Omitting Switches&#34;</a>: even though there is only one value per argument, the arguments do not appear in the prescribed order, and a switch is provided for one argument but not the other.</p>

<pre>   % bos getdate ptserver -server fs1.abc.com</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Rules_for_Using_Abbreviations_and_Aliases"
>Rules for Using Abbreviations and Aliases</a></h3>

<p>This section explains how to abbreviate operation codes, option names, server machine names, partition names, and cell names. It is not possible to abbreviate other types of values.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Abbreviating_Operation_Codes"
>Abbreviating Operation Codes</a></h4>

<p>It is acceptable to abbreviate an operation code to the shortest form that still distinguishes it from the other operation codes in its suite.</p>

<p>For example, it is acceptable to shorten <b>bos install</b> to <b>bos i</b> because there are no other operation codes in the <b>bos</b> command suite that begin with the letter <code>i</code>. In contrast, there are several <b>bos</b> operation codes that start with the letter <code>s</code>, so the abbreviations must be longer to remain unambiguous:</p>

<dl>
<dt><a name="bos_sa_for_bos_salvage"
><b>bos sa</b> for bos salvage
<dt><a name="bos_seta_for_bos_setauth"
><b>bos seta</b> for bos setauth
<dt><a name="bos_setc_for_bos_setcellname"
><b>bos setc</b> for bos setcellname
<dt><a name="bos_setr_for_bos_setrestart"
><b>bos setr</b> for bos setrestart
<dt><a name="bos_sh_for_bos_shutdown"
><b>bos sh</b> for bos shutdown
<dt><a name="bos_start_for_bos_start"
><b>bos start</b> for bos start
<dt><a name="bos_startu_for_bos_startup"
><b>bos startu</b> for bos startup
<dt><a name="bos_stat_for_bos_status"
><b>bos stat</b> for bos status
<dt><a name="bos_sto_for_bos_stop"
><b>bos sto</b> for bos stop</a></dt>
</dl>

<p>In addition to abbreviations, some operation codes have an <i>alias</i>, a short form that is not derived by abbreviating the operation code to its shortest unambiguous form. For example, the alias for the <b>fs setacl</b> command is <b>fs sa</b>, whereas the shortest unambiguous abbreviation is <b>fs seta</b>.</p>

<p>There are two usual reasons an operation code has an alias:</p>

<ul><li><p>Because the command is frequently issued, it is convenient to have a form shorter than the one derived by abbreviating. The <b>fs setacl</b> command is an example.</p></li><li><p>Because the command&#39;s name has changed, but users of previous versions of AFS know the former name. For example, <b>bos listhosts</b> has the alias <b>bos getcell</b>, its former name. It is acceptable to abbreviate aliases to their shortest unambiguous form (for example, <b>bos getcell</b> to <b>bos getc</b>).</p></li></ul>

<p>Even if an operation code has an alias, it is still acceptable to use the shortest unambiguous form. Thus, the <b>fs setacl</b> command has three acceptable forms: <b>fs setacl</b> (the full form), <b>fs seta</b> (the shortest abbreviation), and <b>fs sa</b> (the alias).</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Abbreviating_Switches_and_Flags"
>Abbreviating Switches and Flags</a></h4>

<p>It is acceptable to shorten a switch or flag to the shortest form that distinguishes it from the other switches and flags for its operation code. It is often possible to omit switches entirely, subject to the conditions listed in <a href="#Conditions_for_Omitting_Switches" class="podlinkpod"
>&#34;Conditions for Omitting Switches&#34;</a>.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Abbreviating_Server_Machine_Names"
>Abbreviating Server Machine Names</a></h4>

<p>AFS server machines must have fully-qualified Internet-style host names (for example, <code>fs1.abc.com</code>), but it is not always necessary to type the full name on the command line. AFS commands accept unambiguous shortened forms, but depend on the cell&#39;s name service (such as the Domain Name Service) or a local host table to resolve a shortened name to the fully-qualified equivalent when the command is issued.</p>

<p>Most commands also accept the dotted decimal form of the machine&#39;s IP address as an identifier.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Abbreviating_Partition_Names"
>Abbreviating Partition Names</a></h4>

<p>Partitions that house AFS volumes must have names of the form <em>/vicep<i>x</i></em> or <em>/vicep<i>xx</i></em>, where the variable final portion is one or two lowercase letters. By convention, the first server partition created on a file server machine is called <em>/vicepa</em>, the second <em>/vicepb</em>, and so on. The <i>IBM AFS Quick Beginnings</i> explains how to configure and name a file server machine&#39;s partitions in preparation for storing AFS volumes on them.</p>

<p>When issuing AFS commands, you can abbreviate a partition name using any of the following forms:</p>

<pre>   /vicepa     =     vicepa      =      a      =      0
   /vicepb     =     vicepb      =      b      =      1</pre>

<p>After /vicepz (for which the index is 25) comes</p>

<pre>   /vicepaa    =     vicepaa     =      aa     =      26
   /vicepab    =     vicepab     =      ab     =      27</pre>

<p>and so on through</p>

<pre>   /vicepiv    =     vicepiv     =      iv     =      255</pre>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="Abbreviating_Cell_Names"
>Abbreviating Cell Names</a></h4>

<p>A cell&#39;s full name usually matches its Internet domain name (such as <b>stateu.edu</b> for the State University or <code>abc.com</code> for ABC Corporation). Some AFS commands accept unambiguous shortened forms, usually with respect to the local <em>/usr/vice/etc/CellServDB file</em> but sometimes depending on the ability of the local name service to resolve the corresponding domain name.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Displaying_Online_Help_for_AFS_Commands"
>Displaying Online Help for AFS Commands</a></h3>

<p>To display online help for AFS commands that belong to suites, use the <b>help</b> and <b>apropos</b> operation codes. A <b>-help</b> flag is also available on every almost every AFS command.</p>

<p>The online help entry for a command consists of two or three lines:</p>

<ul><li><p>The first line names the command and briefly describes what it does.</p></li><li><p>If the command has aliases, they appear on the next line.</p></li><li><p>The final line, which begins with the string <code>Usage:</code>, lists the command&#39;s options in the prescribed order; online help entries use the same typographical symbols (brackets and so on) as this documentation.</p></li></ul>

<p>If no operation code is specified, the <b>help</b> operation code displays the first line (short description) for every operation code in the suite:</p>

<pre>   % &#60;command_suite&#62; help</pre>

<p>If the issuer specifies one or more operation codes, the <b>help</b> operation code displays each command&#39;s complete online entry (short description, alias if any, and syntax):</p>

<pre>   % &#60;command_suite&#62; help &#60;operation_code&#62;+</pre>

<p>The <b>-help</b> flag displays a command&#39;s syntax but not the short description or alias:</p>

<pre>   % &#60;command_name&#62; -help</pre>

<p>The apropos operation code displays the short description of any command in a suite whose operation code or short description includes the specified keyword:</p>

<pre>   % &#60;command_suite&#62; apropos &#34;&#60;help string&#62;&#34;</pre>

<p>The following example command displays the complete online help entry for the <b>fs setacl</b> command:</p>

<pre>   % fs help setacl
   fs setacl: set access control list
   aliases: sa
   Usage: fs setacl -dir &#60;directory&#62;+ -acl &#60;access list entries&#62;+
   [-clear] [-negative] [-id] [-if] [-help]</pre>

<p>To see only the syntax statement, use the <b>-help</b> flag:</p>

<pre>   % fs setacl -help
   Usage: fs setacl -dir &#60;directory&#62;+ -acl &#60;access list entries&#62;+
   [-clear] [-negative] [-id] [-if] [-help]</pre>

<p>In the following example, a user wants to display the quota for her home volume. She knows that the relevant command belongs to the <b>fs</b> suite, but cannot remember the operation code. She uses <b>quota</b> as the keyword:</p>

<pre>   % fs apropos quota
   listquota: list volume quota
   quota: show volume quota usage
   setquota: set volume quota</pre>

<p>The following illustrates the error message that results if no command name or short description contains the keyword:</p>

<pre>   % fs apropos &#34;list quota&#34;
   Sorry, no commands found</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>Many AFS commands require one or more types of administrative privilege. See the reference page for each command.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/afsd.html" class="podlinkman"
>afsd(8)</a>, <a href="../1/afsmonitor.html" class="podlinkman"
>afsmonitor(1)</a>, <a href="../8/backup.html" class="podlinkman"
>backup(8)</a>, <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>, <a href="../8/bosserver.html" class="podlinkman"
>bosserver(8)</a>, <a href="../8/buserver.html" class="podlinkman"
>buserver(8)</a>, <a href="../8/butc.html" class="podlinkman"
>butc(8)</a>, <a href="../1/dlog.html" class="podlinkman"
>dlog(1)</a>, <a href="../1/dpass.html" class="podlinkman"
>dpass(1)</a>, <a href="../8/fileserver.html" class="podlinkman"
>fileserver(8)</a>, <a href="../8/fms.html" class="podlinkman"
>fms(8)</a>, <a href="../1/fs.html" class="podlinkman"
>fs(1)</a>, <a href="../8/fstrace.html" class="podlinkman"
>fstrace(8)</a>, <a href="../8/kadb_check.html" class="podlinkpod"
>kadb_check(8)</a>, <a href="../8/kas.html" class="podlinkman"
>kas(8)</a>, <a href="../8/kaserver.html" class="podlinkman"
>kaserver(8)</a>, <a href="../8/kdb.html" class="podlinkman"
>kdb(8)</a>, <a href="../1/klog.html" class="podlinkman"
>klog(1)</a>, <a href="../1/knfs.html" class="podlinkman"
>knfs(1)</a>, <a href="../1/kpasswd.html" class="podlinkman"
>kpasswd(1)</a>, <a href="../8/kpwvalid.html" class="podlinkman"
>kpwvalid(8)</a>, <a href="../1/package.html" class="podlinkman"
>package(1)</a>, <a href="../1/pagsh.html" class="podlinkman"
>pagsh(1)</a>, <a href="../8/prdb_check.html" class="podlinkpod"
>prdb_check(8)</a>, <a href="../1/pts.html" class="podlinkman"
>pts(1)</a>, <a href="../8/ptserver.html" class="podlinkman"
>ptserver(8)</a>, <a href="../1/rxdebug.html" class="podlinkman"
>rxdebug(1)</a>, <a href="../8/salvager.html" class="podlinkman"
>salvager(8)</a>, <a href="../1/scout.html" class="podlinkman"
>scout(1)</a>, <a href="../1/sys.html" class="podlinkman"
>sys(1)</a>, <a href="../1/tokens.html" class="podlinkman"
>tokens(1)</a>, <a href="../1/translate_et.html" class="podlinkpod"
>translate_et(1)</a>, <a href="../1/unlog.html" class="podlinkman"
>unlog(1)</a>, <a href="../1/up.html" class="podlinkman"
>up(1)</a>, <a href="../8/upclient.html" class="podlinkman"
>upclient(8)</a>, <a href="../8/upserver.html" class="podlinkman"
>upserver(8)</a>, <a href="../8/uss.html" class="podlinkman"
>uss(8)</a>, <a href="../8/vldb_check.html" class="podlinkpod"
>vldb_check(8)</a>, <a href="../8/vlserver.html" class="podlinkman"
>vlserver(8)</a>, <a href="../8/volinfo.html" class="podlinkman"
>volinfo(8)</a>, <a href="../8/volserver.html" class="podlinkman"
>volserver(8)</a>, <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>, <a href="../8/xfs_size_check.html" class="podlinkpod"
>xfs_size_check(8)</a>, <a href="../1/xstat_cm_test.html" class="podlinkpod"
>xstat_cm_test(1)</a>, <a href="../1/xstat_fs_test.html" class="podlinkpod"
>xstat_fs_test(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
