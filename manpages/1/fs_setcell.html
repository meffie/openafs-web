<html><head><title>fs_setcell</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Tue Nov 11 07:45:44 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>fs_setcell - Configures permissions for setuid programs from specified cells</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>fs setcell</b> <b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;+ [<b>-suid</b>] [<b>-nosuid</b>] [<b>-help</b>]</p>

<p><b>fs setce</b> <b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;+ [<b>-s</b>] [<b>-n</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>fs setcell</b> command sets whether the Cache Manager allows programs (and other executable files) from each cell named by the <b>-cell</b> argument to run with setuid permission.
By default,
the Cache Manager allows programs from its home cell to run with setuid permission,
but not programs from any foreign cells.
A program belongs to the same cell as the file server machine that houses the volume in which the program&#39;s binary file resides,
as specified in the file server machine&#39;s <em>/usr/afs/etc/ThisCell</em> file.
The Cache Manager determines its own home cell by reading the <em>/usr/vice/etc/ThisCell</em> file at initialization.</p>

<p>To enable programs from each specified cell to run with setuid permission,
include the <b>-suid</b> flag.
To prohibit programs from running with setuid permission,
include the <b>-nosuid</b> flag,
or omit both flags.</p>

<p>The <b>fs setcell</b> command directly alters a cell&#39;s setuid status as recorded in kernel memory,
so rebooting the machine is unnecessary.
However,
non-default settings do not persist across reboots of the machine unless the appropriate <b>fs setcell</b> command appears in the machine&#39;s AFS initialization file.</p>

<p>To display a cell&#39;s setuid status,
issue the <b>fs getcellstatus</b> command.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>AFS does not recognize effective UID: if a setuid program accesses AFS files and directories,
it does so using the current AFS identity of the AFS user who initialized the program,
not of the program&#39;s owner.
Only the local file system recognizes effective UID.</p>

<p>Only members of the system:administrators group can turn on the setuid mode bit on an AFS file or directory.</p>

<p>When the setuid mode bit is turned on,
the UNIX <code>ls -l</code> command displays the third user mode bit as an <code>s</code> instead of an <code>x</code>.
However,
the <code>s</code> does not appear on an AFS file or directory unless setuid permission is enabled for the cell in which the file resides.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-cell_&#60;cell_name&#62;+"
><b>-cell</b> &#60;<i>cell name</i>&#62;+</a></dt>

<dd>
<p>Names each cell for which to set setuid status.
Provide the fully qualified domain name,
or a shortened form that disambiguates it from the other cells listed in the local <em>/usr/vice/etc/CellServDB</em> file.</p>

<dt><a name="-suid"
><b>-suid</b></a></dt>

<dd>
<p>Allows programs from each specified cell to run with setuid privilege.
Provide it or the <b>-nosuid</b> flag,
or omit both flags to disallow programs from running with setuid privilege.</p>

<dt><a name="-nosuid"
><b>-nosuid</b></a></dt>

<dd>
<p>Prevents programs from each specified cell from running with setuid privilege.
Provide it or the <b>-suid</b> flag,
or omit both flags to disallow programs form running with setuid privilege.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following command enables executable files from the State University cell to run with setuid privilege on the local machine:</p>

<pre>   % fs setcell -cell stateu.edu -suid</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be logged in as the local superuser root.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../1/fs_getcellstatus.html" class="podlinkpod"
>fs_getcellstatus(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
