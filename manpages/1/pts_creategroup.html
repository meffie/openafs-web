<html><head><title>pts_creategroup</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Wed Jul 16 06:01:52 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>pts_creategroup - Creates an (empty) Protection Database group entry</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>pts creategroup</b> <b>-name</b>&#160;&#60;<i>group&#160;name</i>&#62;+ [<b>-owner</b>&#160;&#60;<i>owner&#160;of&#160;the&#160;group</i>&#62;] [<b>-id</b>&#160;&#60;<i>id&#160;(negated)&#160;for&#160;the&#160;group</i>&#62;+] [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-force</b>] [<b>-help</b>]</p>

<p><b>pts createg</b> <b>-na</b>&#160;&#60;<i>group&#160;name</i>&#62;+ [<b>-o</b>&#160;&#60;<i>owner&#160;of&#160;the&#160;group</i>&#62;] [<b>-i</b>&#160;&#60;<i>id&#160;(negated)&#160;for&#160;the&#160;group</i>&#62;+] [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-no</b>] [<b>-l</b>] [<b>-f</b>] [<b>-h</b>]</p>

<p><b>pts cg</b> <b>-na</b>&#160;&#60;<i>group&#160;name</i>&#62;+ [<b>-o</b>&#160;&#60;<i>owner&#160;of&#160;the&#160;group</i>&#62;] [<b>-i</b>&#160;&#60;<i>id&#160;(negated)&#160;for&#160;the&#160;group</i>&#62;+] [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-no</b>] [<b>-l</b>] [<b>-f</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>pts creategroup</b> command creates an entry in the Protection Database for each group specified by the <b>-name</b> argument.
The entry records the issuer of the command as the group&#39;s creator,
and as the group&#39;s owner unless the <b>-owner</b> argument names an alternate user or group as the owner.</p>

<p>There are two types of groups:</p>

<ul><li><p><i>regular</i>,
the names of which have two parts separated by a colon.
The part before the colon names the group&#39;s owner.
Any user can create such groups.</p></li><li><p><i>prefix-less</i>,
which do not have an owner prefix.
Only members of the system:administrators group can create prefix-less groups.</p></li></ul>

<p>Creating a group lowers the issuer&#39;s group-creation quota by one.
This is true even if the <b>-owner</b> argument is used to assign ownership to an alternate user or group.
To display a user&#39;s group-creation quota,
use the <b>pts examine</b> command; to set it,
use the <b>pts setfields</b> command.</p>

<p>AFS group ID (AFS GID) numbers are negative integers and by default the Protection Server assigns a GID that is one less (more negative) than the current value of the <code>max group id</code> counter in the Protection Database,
decrementing the counter by one for each group.
Members of the system:administrators group can use the <b>-id</b> argument to assign specific AFS GID numbers.
If any of the specified GIDs is lower (more negative) than the current value of the <code>max group id</code> counter,
the counter is reset to that value.
It is acceptable to specify a GID greater (less negative) than the current value of the counter,
but the creation operation fails if an existing group already has it.
To display or set the value of the <code>max group id</code> counter,
use the <b>pts listmax</b> or <b>pts setmax</b> command,
respectively.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>The command generates the following string to confirm creation of each group:</p>

<pre>   group &#60;name&#62; has id &#60;AFS GID&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>Although using the <b>-owner</b> argument to designate a machine entry as a group&#39;s owner does not generate an error, it is not recommended. The Protection Server does not extend the usual privileges of group ownership to users logged onto the machine.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-name_&#60;group_name&#62;"
><b>-name</b> &#60;<i>group name</i>&#62;</a></dt>

<dd>
<p>Specifies the name of each group to create. Provide a string of up to 63 characters, which can include lowercase (but not uppercase) letters, numbers, and punctuation marks. A regular name includes a single colon (<code>:</code>) to separate the two parts of the name; the colon cannot appear in a prefix-less group name.</p>

<p>A regular group&#39;s name must have the following format:</p>

<pre>   &#60;owner_name&#62;:&#60;group_name&#62;</pre>

<p>and the &#60;owner_name&#62; field must reflect the actual owner of the group, as follows:</p>

<ul><li><p>If the optional <b>-owner</b> argument is not included, the field must match the AFS username under which the issuer is currently authenticated.</p></li><li><p>If the <b>-owner</b> argument names an alternate AFS user, the field must match that AFS username.</p></li><li><p>If the <b>-owner</b> argument names another regular group, the field must match the owning group&#39;s owner field (the part of its name before the colon). If the <b>-owner</b> argument names a prefix-less group, the field must match the owning group&#39;s complete name.</p></li></ul>

<dt><a name="-owner_&#60;owner_of_the_group&#62;"
><b>-owner</b> &#60;<i>owner of the group</i>&#62;</a></dt>

<dd>
<p>Specifies a user or group as the owner for each group, rather than the issuer of the command. Provide either an AFS username or the name of a regular or prefix-less group. An owning group must already have at least one member. This requirement prevents assignment of self-ownership to a group during its creation; use the <b>pts chown</b> command after issuing this command, if desired.</p>

<dt><a name="-id_&#60;id_for_the_group&#62;"
><b>-id</b> &#60;<i>id for the group</i>&#62;</a></dt>

<dd>
<p>Specifies a negative integer AFS GID number for each group, rather than allowing the Protection Server to assign it. Precede the integer with a hyphen (<code>-</code>) to indicate that it is negative.</p>

<p>If this argument is used and the <b>-name</b> argument names multiple new groups, it is best to provide an equivalent number of AFS GIDs. The first GID is assigned to the first group, the second to the second group, and so on. If there are fewer GIDs than groups, the Protection Server assigns GIDs to the unmatched groups based on the <code>max group id</code> counter. If there are more GIDs than groups, the excess GIDs are ignored. If any of the GIDs is lower (more negative) than the current value of the <code>max group id</code> counter, the counter is reset to that value.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command. For more details, see <a href="../1/pts.html" class="podlinkman"
>pts(1)</a>.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Assigns the unprivileged identity anonymous to the issuer. For more details, see <a href="../1/pts.html" class="podlinkman"
>pts(1)</a>.</p>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file. Do not combine this flag with the <b>-cell</b> or <b>-noauth</b> options. For more details, see <a href="../1/pts.html" class="podlinkman"
>pts(1)</a>.</p>

<dt><a name="-force"
><b>-force</b></a></dt>

<dd>
<p>Enables the command to continue executing as far as possible when errors or other problems occur, rather than halting execution at the first error.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command. All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>In the following example, the user pat creates groups called <code>pat:friends</code> and <code>pat:colleagues</code>.</p>

<pre>   % pts creategroup -name pat:friends pat:colleagues</pre>

<p>The following example shows a member of the system:administrators group creating the prefix-less group <code>staff</code> and assigning its ownership to the system:administrators group rather than to herself.</p>

<pre>   % pts creategroup -name staff -owner system:administrators</pre>

<p>In the following example, the user pat creates a group called <code>smith:team-members</code>, which is allowed because the <b>-owner</b> argument specifies the required value (<code>smith</code>).</p>

<pre>   % pts creategroup -name smith:team-members -owner smith</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must belong to the system:administrators group to create prefix-less groups or include the <b>-id</b> argument.</p>

<p>To create a regular group, the issuer must</p>

<ul><li><p>Be authenticated. The command fails if the <b>-noauth</b> flag is provided.</p></li><li><p>Have a group-creation quota greater than zero. The <b>pts examine</b> command displays this quota.</p></li></ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../1/pts.html" class="podlinkman"
>pts(1)</a>, <a href="../1/pts_examine.html" class="podlinkpod"
>pts_examine(1)</a>, <a href="../1/pts_listmax.html" class="podlinkpod"
>pts_listmax(1)</a>, <a href="../1/pts_setfields.html" class="podlinkpod"
>pts_setfields(1)</a>, <a href="../1/pts_setmax.html" class="podlinkpod"
>pts_setmax(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
