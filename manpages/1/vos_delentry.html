<html><head><title>vos_delentry</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Sat Mar 29 18:17:44 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>vos_delentry - Removes a volume entry from the VLDB.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>vos delentry</b> [<b>-id</b>&#160;&#60;<i>volume&#160;name&#160;or&#160;ID</i>&#62;+] [<b>-prefix</b>&#160;&#60;<i>prefix&#160;of&#160;volume&#160;whose&#160;VLDB&#160;entry&#160;is&#160;to&#160;be&#160;deleted</i>&#62;] [<b>-server</b>&#160;&#60;<i>machine&#160;name</i>&#62;] [<b>-partition</b>&#160;&#60;<i>partition&#160;name</i>&#62;] [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-verbose</b>] [<b>-help</b>]</p>

<p><b>vos de</b> [<b>-i</b>&#160;&#60;<i>volume&#160;name&#160;or&#160;ID</i>&#62;+] [<b>-pr</b>&#160;&#60;<i>prefix&#160;of&#160;volume&#160;whose&#160;VLDB&#160;entry&#160;is&#160;to&#160;be&#160;deleted</i>&#62;] [<b>-s</b>&#160;&#60;<i>machine&#160;name</i>&#62;] [<b>-pa</b>&#160;&#60;<i>partition&#160;name</i>&#62;] [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-n</b>] [<b>-l</b>] [<b>-v</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>vos delentry</b> command removes the Volume Location Database (VLDB) entry for each specified volume.
A specified volume can be any of the three types (read/write,
read-only,
or backup),
but the entire entry is removed no matter which type is provided.
The command has no effect on the actual volumes on file server machines,
if they exist.</p>

<p>This command is useful if a volume removal operation did not update the VLDB (perhaps because the <b>vos zap</b> command was used),
but the system administrator does not feel it is necessary to use the <b>vos syncserv</b> and <b>vos syncvldb</b> commands to synchronize an entire file server machine.</p>

<p>To remove the VLDB entry for a single volume,
use the <b>-id</b> argument.
To remove groups of volumes,
combine the <b>-prefix</b>,
<b>-server</b>,
and <b>-partition</b> arguments.
The following list describes how to remove the VLDB entry for the indicated group of volumes:</p>

<ul><li><p>For every volume whose name begins with a certain character string (for example,
<code>sys.</code> or <code>user.</code>): use the <b>-prefix</b> argument.</p></li><li><p>Every volume for which the VLDB lists a site on a certain file server machine: specify the file server name with the <b>-server</b> argument.</p></li><li><p>Every volume for which the VLDB lists a site on a partition of the same name (for instance,
on the <em>/vicepa</em> partition on any file server machine): specify the partition name with the <b>-partition</b> argument.</p></li><li><p>Every volume for which the VLDB lists a site one a specific partition of a file server machine: specify both the <b>-server</b> and <b>-partition</b> arguments.</p></li><li><p>Every volume whose name begins with a certain prefix and for which the VLDB lists a site on a file server machine: combine the <b>-prefix</b> and <b>-server</b> arguments.
Combine the <b>-prefix</b> argument with the <b>-partition</b> argument,
or both the <b>-server</b> and <b>-partition</b> arguments,
to remove a more specific group of volumes.</p></li></ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>Do not use this command to remove a volume in normal circumstances; it does not remove a volume from the file server machine,
and so is likely to make the VLDB inconsistent with state of the volumes on server machines.
Use the <b>vos remove</b> command to remove both the volume and its VLDB entry.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-id_&#60;volume_name_or_ID&#62;+"
><b>-id</b> &#60;<i>volume name or ID</i>&#62;+</a></dt>

<dd>
<p>Specifies the complete name or the volume ID number of each volume for which to remove the VLDB entry.
The entire entry is removed,
regardless of whether the read/write,
read-only,
or backup version is indicated.
Provide this argument or some combination of the <b>-prefix</b>,
<b>-server</b>,
and <b>-partition</b> arguments.</p>

<dt><a name="-prefix_&#60;prefix_of_volume_entry"
><b>-prefix</b> &#60;<i>prefix of volume entry</i></a></dt>

<dd>
<p>Specifies a character string of any length; the VLDB entry for a volume whose name begins with the string is removed.
Include field separators (such as periods) if appropriate.
Combine this argument with the <b>-server</b> argument,
<b>-partition</b> argument,
or both.</p>

<dt><a name="-server_&#60;server_name&#62;"
><b>-server</b> &#60;<i>server name</i>&#62;</a></dt>

<dd>
<p>Identifies a file server machine; if a volume&#39;s VLDB entry lists a site on the machine,
the entry is removed.
Provide the machine&#39;s IP address or its host name (either fully qualified or using an unambiguous abbreviation).
For details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<p>Combine this argument with the <b>-prefix</b> argument,
the <b>-partition</b> argument,
or both.</p>

<dt><a name="-partition_&#60;partition_name&#62;"
><b>-partition</b> &#60;<i>partition name</i>&#62;</a></dt>

<dd>
<p>Identifies a partition; if a volume&#39;s VLDB entry lists a site on the partition,
the entry is removed.
Provide the partition&#39;s complete name with preceding slash (for example,
<em>/vicepa</em>) or use one of the three acceptable abbreviated forms.
For details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<p>Combine this argument with the <b>-prefix</b> argument,
the <b>-server</b> argument,
or both.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command.
Do not combine this argument with the <b>-localauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Assigns the unprivileged identity <code>anonymous</code> to the issuer.
Do not combine this flag with the <b>-localauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file.
The <b>vos</b> command interpreter presents it to the Volume Server and Volume Location Server during mutual authentication.
Do not combine this flag with the <b>-cell</b> argument or <b>-noauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-verbose"
><b>-verbose</b></a></dt>

<dd>
<p>Produces on the standard output stream a detailed trace of the command&#39;s execution.
If this argument is omitted,
only warnings and error messages appear.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>The following message confirms the success of the command by indicating how many VLDB entries were removed.</p>

<pre>   Deleted &#60;number&#62; VLDB entries</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following command removes the VLDB entry for the volume <code>user.temp</code>.</p>

<pre>   % vos delentry user.temp</pre>

<p>The following command removes the VLDB entry for every volume whose name begins with the string <code>test</code> and for which the VLDB lists a site on the file server machine <code>fs3.abc.com</code>.</p>

<pre>   % vos delentry -prefix test -server fs3.abc.com</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be listed in the <em>/usr/afs/etc/UserList</em> file on the machine specified with the <b>-server</b> argument and on each database server machine. If the <b>-localauth</b> flag is included, the issuer must instead be logged on to a server machine as the local superuser <code>root</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../1/vos.html" class="podlinkman"
>vos(1)</a>, <a href="../1/vos_remove.html" class="podlinkpod"
>vos_remove(1)</a>, <a href="../1/vos_syncserv.html" class="podlinkpod"
>vos_syncserv(1)</a>, <a href="../1/vos_syncvldb.html" class="podlinkpod"
>vos_syncvldb(1)</a>, <a href="../1/vos_zap.html" class="podlinkpod"
>vos_zap(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
