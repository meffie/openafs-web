<html><head><title>vos_listvldb</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Tue Nov 11 07:45:45 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>vos_listvldb - Displays a volume&#39;s VLDB entry</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>vos listvldb</b> [<b>-name</b>&#160;&#60;<i>volume&#160;name&#160;or&#160;ID</i>&#62;] [<b>-server</b>&#160;&#60;<i>machine&#160;name</i>&#62;] [<b>-partition</b>&#160;&#60;<i>partition&#160;name</i>&#62;] [<b>-locked</b>] [<b>-quiet</b>] [<b>-nosort</b>] [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-verbose</b>] [<b>-help</b>]</p>

<p><b>vos listvl</b> [<b>-na</b>&#160;&#60;<i>volume&#160;name&#160;or&#160;ID</i>&#62;] [<b>-s</b>&#160;&#60;<i>machine&#160;name</i>&#62;] [<b>-p</b>&#160;&#60;<i>partition&#160;name</i>&#62;] [<b>-lock</b>] [<b>-q</b>] [<b>-nos</b>] [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-noa</b>] [<b>-loca</b>] [<b>-v</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>vos listvldb</b> command formats and displays information from the Volume Location Database (VLDB) entry for each volume specified.
The output depends on the combination of options supplied on the command line.
Combine options as indicated to display the desired type of VLDB entries:</p>

<ul><li><p>Every entry in the VLDB: provide no options.</p></li><li><p>Every VLDB entry that mentions a certain file server machine as the site for a volume: specify the machine&#39;s name as the <b>-server</b> argument.</p></li><li><p>Every VLDB entry that mentions a certain partition on any file server machine as the site for a volume: specify the partition name as the <b>-partition</b> argument.</p></li><li><p>Every VLDB entry that mentions a certain partition on a certain file server machine as the site for a volume: combine the <b>-server</b> and <b>-partition</b> arguments.</p></li><li><p>A single VLDB entry: specify a volume name or ID number with the <b>-name</b> argument.</p></li><li><p>The VLDB entry only for the volumes with locked VLDB entries found at a certain site: combine the <b>-locked</b> flag with any of arguments that define sites.</p></li></ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-name_&#60;volume_name_or_ID&#62;"
><b>-name</b> &#60;<i>volume name or ID</i>&#62;</a></dt>

<dd>
<p>Specifies either the complete name or volume ID number of a volume of any of the three types.</p>

<dt><a name="-server_&#60;server_name&#62;"
><b>-server</b> &#60;<i>server name</i>&#62;</a></dt>

<dd>
<p>Identifies the file server machine listed as a site in each VLDB entry to display.
Provide the machine&#39;s IP address or its host name (either fully qualified or using an unambiguous abbreviation).
For details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<p>This argument can be combined with the <b>-partition</b> argument,
the <b>-locked</b> flag,
or both.</p>

<dt><a name="-partition_&#60;partition_name&#62;"
><b>-partition</b> &#60;<i>partition name</i>&#62;</a></dt>

<dd>
<p>Identifies the partition (on the file server machine specified by the <b>-server</b> argument) listed as a site in each VLDB entry to display.
Provide the partition&#39;s complete name with preceding slash (for example,
<code>/vicepa</code>) or use one of the three acceptable abbreviated forms.
For details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<p>This argument can be combined with the <b>-server</b> argument,
the <b>-locked</b> flag,
or both.</p>

<dt><a name="-locked"
><b>-locked</b></a></dt>

<dd>
<p>Displays only locked VLDB entries.
This flag can be combined with the <b>-server</b> argument,
the <b>-partition</b> argument,
or both.</p>

<dt><a name="-quiet"
><b>-quiet</b></a></dt>

<dd>
<p>Suppresses the lines that summarize the number of volumes listed and their status,
which otherwise appear at the beginning and end of the output when the output includes more than one volume.</p>

<dt><a name="-nosort"
><b>-nosort</b></a></dt>

<dd>
<p>Suppresses the default sorting of volume entries alphabetically by volume name.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command.
Do not combine this argument with the <b>-localauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Assigns the unprivileged identity <code>anonymous</code> to the issuer.
Do not combine this flag with the <b>-localauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file.
The <b>vos</b> command interpreter presents it to the Volume Server and Volume Location Server during mutual authentication.
Do not combine this flag with the <b>-cell</b> argument or <b>-noauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-verbose"
><b>-verbose</b></a></dt>

<dd>
<p>Produces on the standard output stream a detailed trace of the command&#39;s execution.
If this argument is omitted,
only warnings and error messages appear.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>If the output includes more than one VLDB entry,
by default the first line reports which file server machine,
partition,
or both,
houses the volumes.
The final line of output reports the total number of entries displayed.
Including the <b>-quiet</b> flag suppresses these lines.</p>

<p>By default,
volumes are sorted alphabetically by volume name.
Including the <b>-nosort</b> flag skips the sorting step,
which can speed up the production of output if there are a large number of entries.</p>

<p>The VLDB entry for each volume includes the following information:</p>

<ul><li><p>The base (read/write) volume name.
The read-only and backup versions have the same name with a <code>.readonly</code> and <code>.backup</code> extension,
respectively.</p></li><li><p>The volume ID numbers allocated to the versions of the volume that actually exist,
in fields labeled <code>RWrite</code> for the read/write,
<code>ROnly</code> for the read-only,
<code>Backup</code> for the backup,
and <code>RClone</code> for the ReleaseClone.
(If a field does not appear,
the corresponding version of the volume does not exist.) The appearance of the <code>RClone</code> field normally indicates that a release operation did not complete successfully; the <code>Old release</code> and <code>New release</code> flags often also appear on one or more of the site definition lines described just following.</p></li><li><p>The number of sites that house a read/write or read-only copy of the volume,
following the string <code>number of sites -&#62;</code>.</p></li><li><p>A line for each site that houses a read/write or read-only copy of the volume,
specifying the file server machine,
partition,
and type of volume (<code>RW</code> for read/write or <code>RO</code> for read-only).
If a backup version exists,
it is understood to share the read/write site.
Several flags can appear with a site definition:
<dl>
<dt><a name="Not_released"
>Not released</a></dt>

<dd>
<p>Indicates that the vos release command has not been issued since the <b>vos addsite</b> command was used to define the read-only site.</p>

<dt><a name="Old_release"
>Old release</a></dt>

<dd>
<p>Indicates that a vos release command did not complete successfully,
leaving the previous,
obsolete version of the volume at this site.</p>

<dt><a name="New_release"
>New release</a></dt>

<dd>
<p>Indicates that a vos release command did not complete successfully,
but that this site did receive the correct new version of the volume.</p>
</dd>
</dl>
</p></li><li><p>If the VLDB entry is locked,
the string <code>Volume is currently LOCKED</code>.</p></li></ul>

<p>For further discussion of the <code>New release</code> and <code>Old release</code> flags,
see <a href="../1/vos_release.html" class="podlinkpod"
>vos_release(1)</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following command displays VLDB information for the ABC Corporation volume called <code>usr</code>,
which has two read-only replication sites:</p>

<pre>   % vos listvldb -name usr
   usr
    RWrite: 5360870981   ROnly: 536870982   Backup: 536870983
    number of sites -&#62; 3
       server fs1.abc.com partition /vicepa RO Site
       server fs3.abc.com partition /vicepa RO Site
       server fs2.abc.com partition /vicepb RW Site</pre>

<p>The following example shows entries for two of the volumes that reside on the file server machine <code>fs4.abc.com</code>. The first VLDB entry is currently locked. There are 508 entries that mention the machine as a volume site.</p>

<pre>   % vos listvldb -server fs4.abc.com
   VLDB entries for server fs4.abc.com
       .       .           .        .
       .       .           .        .
   user.smith
    RWrite: 278541326   ROnly: 278541327   Backup: 278542328
    number of sites -&#62; 1
      server fs4.abc.com partition /vicepg RW Site
    Volume is currently LOCKED
      user.terry
    RWrite 354287190   ROnly 354287191   Backup 354287192
    number of sites -&#62; 1
      server fs4.abc.com partition /vicepc RW Site
      .       .           .        .
      .       .           .        .
   Total entries: 508</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>None</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../1/vos.html" class="podlinkman"
>vos(1)</a>, <a href="../1/vos_examine.html" class="podlinkpod"
>vos_examine(1)</a>, <a href="../1/vos_listvol.html" class="podlinkpod"
>vos_listvol(1)</a>, <a href="../1/vos_lock.html" class="podlinkpod"
>vos_lock(1)</a>, <a href="../1/vos_unlock.html" class="podlinkpod"
>vos_unlock(1)</a>, <a href="../1/vos_unlockvldb.html" class="podlinkpod"
>vos_unlockvldb(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
