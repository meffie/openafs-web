<html><head><title>vos_size</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Mon Jul 14 01:56:35 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>vos_size - Computes the size of a volume dump</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>vos size</b> [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-dump</b>] [<b>-encrypt</b>] [<b>-help</b>] [<b>-id</b>] &#60;<i>volume name or id</i>&#62; [<b>-localauth</b>] [<b>-noauth</b>] [<b>-partition</b>&#160;&#60;<i>partition&#160;name</i>&#62;] [<b>-server</b>&#160;&#60;<i>machine&#160;name</i>&#62;] [<b>-time</b>&#160;&#60;<i>dump&#160;from&#160;time</i>&#62;] [<b>-verbose</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>vos size</b> command shows the size of a volume&#39;s dump for backup purposes.
The size of the dump may differ from the volume size as reported by <b>vos examine</b> or <b>fs listquota</b>.
The size is shown in bytes.</p>

<p>This command is intended for use with backup systems that want to size volume dumps before performing them (to optimize use of tape resources,
for example).</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>The cell in which the volume resides,
if it&#39;s not in the current cell.</p>

<dt><a name="-dump"
><b>-dump</b></a></dt>

<dd>
<p>Show the size of the volume dump for the specified volume.
Currently,
this flag should always be given for <b>vos size</b> to give useful information.
It is present to allow this command to provide other size estimates in the future.</p>

<dt><a name="-encrypt"
><b>-encrypt</b></a></dt>

<dd>
<p>Encrypt the command.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>

<dt><a name="-id_&#60;volume_name_or_id&#62;"
><b>-id</b> &#60;<i>volume name or id</i>&#62;</a></dt>

<dd>
<p>Specifies either the complete name or volume ID number of the read/write,
read-only,
or backup volume to size.</p>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file.
The <b>vos</b> command interpreter presents it to the Volume Server and Volume Location Server during mutual authentication.
Do not combine this flag with the <b>-cell</b> argument or <b>-noauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Assigns the unprivileged identity anonymous to the issuer.
Do not combine this flag with the <b>-localauth</b> flag.
For more details,
see <a href="../1/vos.html" class="podlinkman"
>vos(1)</a>.</p>

<dt><a name="-partition_&#60;partition_name&#62;"
><b>-partition</b> &#60;<i>partition name</i>&#62;</a></dt>

<dd>
<p>Specifies the partition on which the volume resides.
Provide the <b>-server</b> argument along with this one.</p>

<dt><a name="-server_&#60;machine_name&#62;"
><b>-server</b> &#60;<i>machine name</i>&#62;</a></dt>

<dd>
<p>Specifies the file server machine on which the volume resides.
Provide the <b>-partition</b> argument along with this one.</p>

<dt><a name="-time_&#60;dump_from_time&#62;"
><b>-time</b> &#60;<i>dump from time</i>&#62;</a></dt>

<dd>
<p>Specifies whether the dump is full or incremental.
Omit this argument to size a full dump.
See <a href="../1/vos_dump.html" class="podlinkpod"
>vos_dump(1)</a> for the valid values for this option.</p>

<dt><a name="-verbose"
><b>-verbose</b></a></dt>

<dd>
<p>Show more output about what&#39;s going on.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>When run without <b>-verbose</b>,
the output will be:</p>

<pre>   Volume: &#60;volume&#62;
   dump_size: &#60;size&#62;</pre>

<p>where &#60;volume&#62; is the name of the volume and &#60;size&#62; is the size of the dump in bytes. With <b>-verbose</b>, additional status messages will be printed between those two lines.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>Sizing a single user volume:</p>

<pre>   % vos size user.thoron -dump
   Volume: user.thoron
   dump_size: 36430</pre>

<p>or, more verbosely:</p>

<pre>   % vos size user.thoron -dump -verbose
   Volume: user.thoron
   Starting transaction on volume 2003434023... done
   Getting size of volume on volume 2003434023... done
   Ending transaction on volume 2003434023... done
   dump_size: 36430</pre>

<p>Sizing an incremental dump for the same volume:</p>

<pre>   % vos size -id user.thoron -time &#39;05/04/2007 00:00:00&#39; -dump 
   Volume: user.thoron
   dump_size: 21095</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be listed in the <em>/usr/afs/etc/UserList</em> file on the machine specified with the <b>-server</b> argument or the machine on which the volume is located if <b>-server</b> was not given. If the <b>-localauth</b> flag is included, the issuer must instead be logged on to a server machine as the local superuser <code>root</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../1/fs_listquota.html" class="podlinkpod"
>fs_listquota(1)</a>, <a href="../1/vos_dump.html" class="podlinkpod"
>vos_dump(1)</a>, <a href="../1/vos_examine.html" class="podlinkpod"
>vos_examine(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2007 Jason Edgecombe &#60;jason@rampaginggeek.com&#62;</p>

<p>This documentation is covered by the BSD License as written in the doc/LICENSE file. This man page was written by Jason Edgecombe for OpenAFS.</p>

<!-- end doc -->

</body></html>
