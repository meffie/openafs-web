<html><head><title>uss_add</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Mon Jul 28 01:10:49 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>uss_add - Creates a user account</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>uss add</b> <b>-user</b>&#160;&#60;<i>login&#160;name</i>&#62; [<b>-realname</b>&#160;&#60;<i>full&#160;name&#160;in&#160;quotes</i>&#62;] [<b>-pass</b>&#160;&#60;<i>initial&#160;password</i>&#62;] [<b>-pwexpires</b> &#60;<i>password expires in [0..254] days (0 =&#62; never)</i>&#62;] [<b>-server</b>&#160;&#60;<i>file&#160;server&#160;for&#160;home&#160;volume</i>&#62;] [<b>-partition</b>&#160;&#60;<i>file&#160;server&#39;s&#160;disk&#160;partition&#160;for&#160;home&#160;volume</i>&#62;] [<b>-mount</b>&#160;&#60;<i>home&#160;directory&#160;mount&#160;point</i>&#62;] [<b>-uid</b>&#160;&#60;<i>uid&#160;to&#160;assign&#160;the&#160;user</i>&#62;] [<b>-template</b>&#160;&#60;<i>pathname&#160;of&#160;template&#160;file</i>&#62;] [<b>-verbose</b>] [<b>-var</b>&#160;&#60;<i>auxiliary&#160;argument&#160;pairs&#160;(Num&#160;val)</i>&#62;+] [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-admin</b>&#160;&#60;<i>administrator&#160;to&#160;authenticate</i>&#62;] [<b>-dryrun</b>] [<b>-skipauth</b>] [<b>-overwrite</b>] [<b>-help</b>]</p>

<p><b>uss ad</b> <b>-us</b>&#160;&#60;<i>login&#160;name</i>&#62; [<b>-r</b>&#160;&#60;<i>full&#160;name&#160;in&#160;quotes</i>&#62;] [<b>-pas</b>&#160;&#60;<i>initial&#160;password</i>&#62;] [<b>-pw</b> &#60;<i>password expires in [0..254] days (0 =&#62; never)</i>&#62;] [<b>-se</b>&#160;&#60;<i>FileServer&#160;for&#160;home&#160;volume</i>&#62;] [<b>-par</b>&#160;&#60;<i>FileServer&#39;s&#160;disk&#160;partition&#160;for&#160;home&#160;volume</i>&#62;] [<b>-m</b>&#160;&#60;<i>home&#160;directory&#160;mount&#160;point</i>&#62;] [<b>-ui</b>&#160;&#60;<i>uid&#160;to&#160;assign&#160;the&#160;user</i>&#62;] [<b>-t</b>&#160;&#60;<i>pathname&#160;of&#160;template&#160;file</i>&#62;] [<b>-ve</b>] [<b>-va</b>&#160;&#60;<i>auxiliary&#160;argument&#160;pairs&#160;(Num&#160;val)</i>&#62;+] [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-a</b>&#160;&#60;<i>administrator&#160;to&#160;authenticate</i>&#62;] [<b>-d</b>] [<b>-sk</b>] [<b>-o</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>uss add</b> command creates entries in the Protection Database and Authentication Database for the user name specified by the <b>-user</b> argument.
By default,
the Protection Server automatically allocates an AFS user ID (UID) for the new user; to specify an alternate AFS UID,
include the <b>-uid</b> argument.
If a password is provided with the <b>-pass</b> argument,
it is stored as the user&#39;s password in the Authentication Database after conversion into a form suitable for use as an encryption key.
Otherwise,
the string <code>changeme</code> is assigned as the user&#39;s initial password.</p>

<p>The other results of the command depend on which instructions and which of a defined set of variables appear in the template file specified with the <b>-template</b> argument.
Many of the command&#39;s arguments supply a value for one of the defined variables,
and failure to provide an argument when the corresponding variable appears in the template file halts the account creation process at the point where the command interpreter first encounters the variable in the template file.</p>

<p>To create multiple accounts with a single command,
use the <b>uss bulk</b> command.
To delete accounts with a single command,
use the <b>uss delete</b> command.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-user_&#60;login_name&#62;"
><b>-user</b> &#60;<i>login name</i>&#62;</a></dt>

<dd>
<p>Names the user&#39;s Authentication Database and Protection Database entries.
It can include up to eight alphanumeric characters,
but not any of the following characters: <code>:</code> (colon),
<code>@</code> (at-sign),
<code>.</code> (period),
space,
or newline.
Because it becomes the username (the name under which a user logs in),
it is best not to include shell metacharacters and to obey the restrictions that many operating systems impose on usernames (usually,
to contain no more than eight lowercase letters).</p>

<p>Corresponding variable in the template file: $USER.</p>

<dt><a name="-realname_&#60;full_name_in_quotes&#62;"
><b>-realname</b> &#60;<i>full name in quotes</i>&#62;</a></dt>

<dd>
<p>Specifies the user&#39;s full name.
If it contains spaces or punctuation,
surround it with double quotes.
If not provided,
it defaults to the user name provided with the <b>-user</b> argument.</p>

<p>Corresponding variable in the template file: $NAME.
Many operating systems include a field for the full name in a user&#39;s entry in the local password file (<em>/etc/passwd</em> or equivalent),
and this variable can be used to pass a value to be used in that field.</p>

<dt><a name="-pass_&#60;initial_password&#62;"
><b>-pass</b> &#60;<i>initial password</i>&#62;</a></dt>

<dd>
<p>Specifies the user&#39;s initial password.
Although the AFS commands that handle passwords accept strings of virtually unlimited length,
it is best to use a password of eight characters or less,
which is the maximum length that many applications and utilities accept.
If not provided,
this argument defaults to the string <code>changeme</code>.</p>

<p>Corresponding variable in the template file: none.</p>

<dt><a name="-pwexpires_&#60;password_expiration&#62;"
><b>-pwexpires</b> &#60;<i>password expiration</i>&#62;</a></dt>

<dd>
<p>Sets the number of days after a user&#39;s password is changed that it remains valid.
Provide an integer from the range <code>1</code> through <code>254</code> to specify the number of days until expiration,
or the value <code>0</code> to indicate that the password never expires (the default).</p>

<p>When the password becomes invalid (expires),
the user is unable to authenticate,
but has 30 more days in which to issue the <b>kpasswd</b> command to change the password (after that,
only an administrator can change it).</p>

<p>Corresponding variable in the template file: $PWEXPIRES.</p>

<dt><a name="-server_&#60;file_server_name&#62;"
><b>-server</b> &#60;<i>file server name</i>&#62;</a></dt>

<dd>
<p>Names the file server machine on which to create the new user&#39;s volume.
It is best to provide a fully qualified hostname (for example,
<code>fs1.abc.com</code>),
but an abbreviated form is acceptable provided that the cell&#39;s naming service is available to resolve it at the time the volume is created.</p>

<p>Corresponding variable in the template file: $SERVER.</p>

<dt><a name="-partition_&#60;file_server_partition&#62;"
><b>-partition</b> &#60;<i>file server partition</i>&#62;</a></dt>

<dd>
<p>Specifies the partition on which to create the user&#39;s volume; it must be on the file server machine named by the <b>-server</b> argument.
Provide the complete partition name (for example <em>/vicepa</em>) or one of the following abbreviated forms:</p>

<pre>   /vicepa     =     vicepa      =      a      =      0
   /vicepb     =     vicepb      =      b      =      1</pre>

<p>After <em>/vicepz</em> (for which the index is 25) comes</p>

<pre>   /vicepaa    =     vicepaa     =      aa     =      26
   /vicepab    =     vicepab     =      ab     =      27</pre>

<p>and so on through</p>

<pre>   /vicepiv    =     vicepiv     =      iv     =      255</pre>

<p>Corresponding variable in the template file: $PART.</p>

<dt><a name="-mount_&#60;home_directory_mount_point&#62;"
><b>-mount</b> &#60;<i>home directory mount point</i>&#62;</a></dt>

<dd>
<p>Specifies the pathname for the user&#39;s home directory. Partial pathnames are interpreted relative to the current working directory.</p>

<p>Specify the read/write path to the directory, to avoid the failure that results from attempting to create a new mount point in a read-only volume. By convention, the read/write path is indicated by placing a period before the cell name at the pathname&#39;s second level (for example, <em>/afs/.abc.com</em>). For further discussion of the concept of read/write and read-only paths through the filespace, see the <b>fs mkmount</b> reference page.</p>

<p>Corresponding variable in template: $MTPT, but in the template file&#39;s <code>V</code> instruction only. Occurrences of the $MTPT variable in template instructions that follow the <code>V</code> instruction take their value from the <code>V</code> instruction&#39;s <i>mount_point</i> field. Thus the value of this command line argument becomes the value for the $MTPT variable in instructions that follow the <code>V</code> instruction only if the string $MTPT appears alone in the <code>V</code> instruction&#39;s <i>mount_point</i> field.</p>

<dt><a name="-uid_&#60;uid_to_assign_the_user&#62;"
><b>-uid</b> &#60;<i>uid to assign the user</i>&#62;</a></dt>

<dd>
<p>Specifies a positive integer other than 0 (zero) to assign as the user&#39;s AFS UID. If this argument is omitted, the Protection Server assigns an AFS UID that is one greater than the current value of the <code>max user id</code> counter (use the <b>pts listmax</b> command to display the counter). If including this argument, it is best first to use the <b>pts examine</b> command to verify that no existing account already has the desired AFS UID; it one does, the account creation process terminates with an error.</p>

<p>Corresponding variable in the template file: $UID.</p>

<dt><a name="-template_&#60;pathname_of_template_file&#62;"
><b>-template</b> &#60;<i>pathname of template file</i>&#62;</a></dt>

<dd>
<p>Specifies the pathname of the template file. If this argument is omitted, the command interpreter searches the following directories in the indicated order for a file called <code>uss.template</code>:</p>

<ul><li><p>The current working directory.</p></li><li><p><em>/afs/<i>cellname</i>/common/uss</em>, where <i>cellname</i> names the local cell.</p></li><li><p><em>/etc</em></p></li></ul>

<p>If the issuer provides a filename other than <code>uss.template</code> but without a pathname, the command interpreter searches for it in the indicated directories. If the issuer provides a full or partial pathname, the command interpreter consults the specified file only; it interprets partial pathnames relative to the current working directory.</p>

<p>If the specified template file is empty (zero-length), the command creates Protection and Authentication Database entries only.</p>

<p><a href="../5/uss.html" class="podlinkman"
>uss(5)</a> details the file&#39;s format.</p>

<dt><a name="-verbose"
><b>-verbose</b></a></dt>

<dd>
<p>Produces on the standard output stream a detailed trace of the command&#39;s execution. If this argument is omitted, only warnings and error messages appear.</p>

<dt><a name="-var_&#60;auxilliary_argument_pairs&#62;"
><b>-var</b> &#60;<i>auxilliary argument pairs</i>&#62;</a></dt>

<dd>
<p>Specifies values for each of the number variables $1 through $9 that can appear in the template file. Use the number variables to assign values to variables in the <b>uss</b> template file that are not part of the standard set.</p>

<p>Corresponding variables in the template file: $1 through $9.</p>

<p>For each instance of this argument, provide two parts in the indicated order, separated by a space:</p>

<ul><li><p>The integer from the range <code>1</code> through <code>9</code> that matches the variable in the template file. Do not precede it with a dollar sign.</p></li><li><p>A string of alphanumeric characters to assign as the value of the variable.</p></li></ul>

<p>See the chapter on uss in the <i>IBM AFS Administration Guide</i> for further explanation.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Specifies the cell in which to run the command. For more details, see <a href="../8/uss.html" class="podlinkman"
>uss(8)</a>.</p>

<dt><a name="-admin_&#60;administrator_to_authenticate&#62;"
><b>-admin</b> &#60;<i>administrator to authenticate</i>&#62;</a></dt>

<dd>
<p>Specifies the AFS user name under which to establish authenticated connections to the AFS server processes that maintain the various components of a user account. For more details, see <a href="../8/uss.html" class="podlinkman"
>uss(8)</a>.</p>

<dt><a name="-dryrun"
><b>-dryrun</b></a></dt>

<dd>
<p>Reports actions that the command interpreter needs to perform while executing the command, without actually performing them. For more details, see <a href="../8/uss.html" class="podlinkman"
>uss(8)</a>.</p>

<dt><a name="-skipauth"
><b>-skipauth</b></a></dt>

<dd>
<p>Prevents authentication with the AFS Authentication Server, allowing a site using Kerberos to substitute that form of authentication.</p>

<dt><a name="-overwrite"
><b>-overwrite</b></a></dt>

<dd>
<p>Overwrites any directories, files and links that exist in the file system and for which there are definitions in <code>D</code>, <code>E</code>, <code>F</code>, <code>L</code>, or <code>S</code> instructions in the template file named by the <b>-template</b> argument. If this flag is omitted, the command interpreter prompts once for confirmation that it is to overwrite all such elements.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command. All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The combination of the following example uss add command and <code>V</code> instruction in a template file called <code>uss.tpl</code> creates Protection and Authentication Database entries named <code>smith</code>, and a volume called <code>user.smith</code> with a quota of 2500 kilobyte blocks, mounted at the pathname <em>/afs/abc.com/usr/smith</em>. The access control list (ACL) on the mount point grants <code>smith</code> all rights.</p>

<p>The issuer of the <b>uss add</b> command provides only the template file&#39;s name, not its complete pathname, because it resides in the current working directory. The command and <code>V</code> instruction appear here on two lines only for legibility; there are no line breaks in the actual instruction or command.</p>

<pre>   V user.$USER $SERVER.abc.com /vice$PART $1 \
       /afs/abc.com/usr/$USER $UID $USER all

   % uss add -user smith -realname &#34;John Smith&#34; -pass js_pswd \
       -server fs2 -partition b -template uss.tpl -var 1 2500</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer (or the user named by the <b>-admin</b> argument) must belong to the system:administrators group in the Protection Database and must have the <code>ADMIN</code> flag turned on in his or her Authentication Database entry.</p>

<p>If the template contains a <code>V</code> instruction, the issuer must be listed in the <em>/usr/afs/etc/UserList</em> file and must have at least <code>a</code> (administer) and <code>i</code> (insert) permissions on the ACL of the directory that houses the new mount point. If the template file includes instructions for creating other types of objects (directories, files or links), the issuer must have each privilege necessary to create them.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/UserList.html" class="podlinkman"
>UserList(5)</a>, <a href="../5/uss.html" class="podlinkman"
>uss(5)</a>, <a href="../1/fs_mkmount.html" class="podlinkpod"
>fs_mkmount(1)</a>, <a href="../8/uss.html" class="podlinkman"
>uss(8)</a>, <a href="../8/uss_bulk.html" class="podlinkpod"
>uss_bulk(8)</a>, <a href="../8/uss_delete.html" class="podlinkpod"
>uss_delete(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
