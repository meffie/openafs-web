<html><head><title>voldump</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Mon Jul 14 01:56:38 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>voldump - Dump an AFS volume without using the Volume Server</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>voldump</b> <b>-part</b>&#160;&#60;<i>partition</i>&#62; <b>-volumeid</b>&#160;&#60;<i>volume&#160;id</i>&#62; [<b>-file</b>&#160;&#60;<i>dump&#160;file</i>&#62;] [<b>-verbose</b>] [<b>-help</b>]</p>

<p><b>voldump</b> <b>-p</b>&#160;&#60;<i>partition</i>&#62; <b>-vo</b>&#160;&#60;<i>volume&#160;id</i>&#62; [<b>-f</b>&#160;&#60;<i>dump&#160;file</i>&#62;] [<b>-ve</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><b>voldump</b> dumps an AFS volume in the format used by <b>vos dump</b> without using the Volume Server.
It must be run on the file server machine and usually must be run as the superuser <code>root</code> to have permissions to read the file server data.
It&#39;s primary use is to recover data from a file server machine where the Volume Server cannot be started for some reason.</p>

<p>The dump output will go to standard output,
or to a file if <b>-file</b> is specified.
<b>vos restore</b> can be used to load the resulting dump into a new AFS volume.
<b>voldump</b> always does a full dump.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>Normally,
use <b>vos dump</b> instead of this command.
<b>voldump</b> is a tool of last resort to try to extract data from the raw data structures stored on the file server machine and is not as regularly tested or used as the normal <b>vos dump</b> implementation.</p>

<p>If the AFS volume being dumped changes while <b>voldump</b> is running,
the results may be inconsistent.
If the File Server and Volume Server are running,
stop them with <b>bos shutdown</b> or a similar method before running this command.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-part_&#60;partition&#62;"
><b>-part</b> &#60;<i>partition</i>&#62;</a></dt>

<dd>
<p>Names the partition on which the volume to be dumped is located.
<b>voldump</b> does not take the normal full range of ways of specifying a partition.
Instead,
<i>partition</i> must be either a single letter between <code>a</code> and <code>z</code>,
corresponding to <em>/vicepa</em> through <em>/vicepz</em>,
or the full path to the file server partition.
<code>aa</code> is not recognized; use <em>/vicepaa</em> instead.</p>

<dt><a name="-volumeid_&#60;volume_id&#62;"
><b>-volumeid</b> &#60;<i>volume id</i>&#62;</a></dt>

<dd>
<p>Specifies the ID of the volume to dump.
The volume must be specified by numeric ID,
not by name.</p>

<dt><a name="-file_&#60;dump_file&#62;"
><b>-file</b> &#60;<i>dump file</i>&#62;</a></dt>

<dd>
<p>Specifies the output file for the dump.
If this option is not given,
the volume will be dumped to standard output.</p>

<dt><a name="-verbose"
><b>-verbose</b></a></dt>

<dd>
<p>Asks for a verbose trace of the dump process.
This trace information will be sent to standard error.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following command dumps the volume 1936964939 on the <em>/vicepb</em> partition to the file <em>/tmp/volume.dump</em>:</p>

<pre>    % voldump -part /vicepb -volumeid 1936964939 -file /tmp/volume.dump</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must have read access to the file server data stored in the specified partition. Usually, this means that the issuer must be the local superuser <code>root</code> on the file server machine.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/bos_shutdown.html" class="podlinkpod"
>bos_shutdown(8)</a>, <a href="../8/volserver.html" class="podlinkman"
>volserver(8)</a>, <a href="../1/vos_dump.html" class="podlinkpod"
>vos_dump(1)</a>, <a href="../1/vos_restore.html" class="podlinkpod"
>vos_restore(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2005 Russ Allbery &#60;rra@stanford.edu&#62;</p>

<p>This documentation is covered by the IBM Public License Version 1.0. This man page was written by Russ Allbery for OpenAFS.</p>

<!-- end doc -->

</body></html>
