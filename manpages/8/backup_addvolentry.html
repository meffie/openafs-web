<html><head><title>backup_addvolentry</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Wed Jul 16 06:02:00 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>backup_addvolentry - Defines a volume entry in a volume set</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>backup addvolentry</b> <b>-name</b>&#160;&#60;<i>volume&#160;set&#160;name</i>&#62; <b>-server</b>&#160;&#60;<i>machine&#160;name</i>&#62; <b>-partition</b>&#160;&#60;<i>partition&#160;name</i>&#62; <b>-volumes</b>&#160;&#60;<i>volume&#160;name&#160;(regular&#160;expression)</i>&#62; [<b>-localauth</b>] [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-help</b>]</p>

<p><b>backup addvole</b> <b>-n</b>&#160;&#60;<i>volume&#160;set&#160;name</i>&#62; <b>-s</b>&#160;&#60;<i>machine&#160;name</i>&#62; <b>-p</b>&#160;&#60;<i>partition&#160;name</i>&#62; <b>-v</b>&#160;&#60;<i>volume&#160;name&#160;(regular&#160;expression)</i>&#62; [<b>-l</b>] [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>backup addvolentry</b> command adds a volume entry definition to the existing volume set named by the <b>-name</b> argument.
A volume entry definition can match one or more volumes,
depending on the combination of the <b>-server</b>,
<b>-partition</b>,
and <b>-volumes</b> arguments.</p>

<p>For the <b>-server</b> and <b>-partition</b> arguments,
provide either</p>

<ul><li><p>The name of one machine or partition.</p></li><li><p>The metacharacter expression .* (period and asterisk),
which matches every machine name or partition name in the Volume Location Database (VLDB).</p></li></ul>

<p>For the <b>-volumes</b> argument,
specify a combination of alphanumeric characters and one or more metacharacters to wildcard part or all of the volume name.
<a href="./OPTIONS.html" class="podlinkpod"
>OPTIONS</a> lists the acceptable metacharacters.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>It is best to issue this command in interactive mode.
If issuing it at the shell prompt,
enclose any strings containing metacharacters in double quotes,
or escape the metacharacters with other delimiters,
to prevent the shell from interpreting them.
Adding volume entries to a temporary volume set is possible only within the interactive session in which the volume set was created.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-name_&#60;volume_set_name&#62;"
><b>-name</b> &#60;<i>volume set name</i>&#62;</a></dt>

<dd>
<p>Names the volume set to which to add this volume entry definition.
The volume set must already exist (use the <b>backup addvolset</b> command to create it).</p>

<dt><a name="-server_&#60;machine_name&#62;"
><b>-server</b> &#60;<i>machine name</i>&#62;</a></dt>

<dd>
<p>Defines the set of one or more file server machines that house the volumes in the volume entry.
Provide either one fully-qualified hostname (such as <code>fs1.abc.com</code>) or the metacharacter expression <code>.*</code> (period and asterisk),
which matches all machine names in the VLDB.</p>

<dt><a name="-partition_&#60;partition_name&#62;"
><b>-partition</b> &#60;<i>partition name</i>&#62;</a></dt>

<dd>
<p>Defines the set of one or more partitions that house the volumes in the volume entry.
Provide either one complete partition name (such as <code>/vicepa</code>) or the metacharacter expression <code>.*</code> (period and asterisk),
which matches all partition names.</p>

<dt><a name="-volumes_&#60;volume_name&#62;"
><b>-volumes</b> &#60;<i>volume name</i>&#62;</a></dt>

<dd>
<p>Defines the set of one or more volumes included in the volume entry.
Specify the volumes by name,
by using any combination of regular alphanumeric characters and one or more of the following metacharacter expressions:</p>

<dl>
<dt><a name="."
>.</a></dt>

<dd>
<p>The period matches any single character.</p>

<dt><a name="*"
>*</a></dt>

<dd>
<p>The asterisk matches zero or more instances of the preceding character.
Combine it with any other alphanumeric character or metacharacter.</p>

<dt><a name="[_]"
>[ ]</a></dt>

<dd>
<p>Square brackets around a list of characters match a single instance of any of the characters,
but no other characters; for example,
<code>[abc]</code> matches a single <code>a</code> or <code>b</code> or <code>c</code>,
but not <code>d</code> or <code>A</code>.
This expression can be combined with the asterisk.</p>

<dt><a name="^"
>^</a></dt>

<dd>
<p>The caret,
when used as the first character in a square-bracketed set,
designates a match with any single character <i>except</i> the characters that follow it; for example,
<code>[^a]</code> matches any single character except lowercase <code>a</code>.
This expression can be combined with the asterisk.</p>

<dt><a name="\"
>\</a></dt>

<dd>
<p>A backslash preceding any of the metacharacters in this list makes it match its literal value only.
For example,
the expression <code>\.</code> (backslash and period) matches a single period,
<code>\*</code> a single asterisk,
and <code>\\</code> a single backslash.
Such expressions can be combined with the asterisk (for example,
<code>\.*</code> matches any number of periods).</p>
</dd>
</dl>

<p>Perhaps the most common metacharacter expression is the period followed by an asterisk (<code>.*</code>).
This expression matches any string of any length,
because the period matches any character and the asterisk means any number of that character.
As mentioned,
it is the only acceptable metacharacter expression for the <b>-server</b> and <b>-partition</b> arguments.
In a volume definition it can stand alone (in which case it matches every volume listed in the VLDB),
or can combine with regular characters.
The following example matches any volume name that begins with the string <code>user</code> and ends with <code>backup</code>:</p>

<pre>   user.*backup</pre>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file. The <b>backup</b> command interpreter presents it to the Backup Server, Volume Server and VL Server during mutual authentication. Do not combine this flag with the <b>-cell</b> argument. For more details, see <a href="../8/backup.html" class="podlinkman"
>backup(8)</a>.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command. Do not combine this argument with the <b>-localauth</b> flag. For more details, see <a href="../8/backup.html" class="podlinkman"
>backup(8)</a>.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command. All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following command adds a volume entry to the volume set called <code>sys</code>. The entry matches all volumes on any machine or partition whose names begin with the string <code>sun4x_56</code> followed by a period:</p>

<pre>   backup&#62; addvolentry sys .* .* sun4x_56\..*</pre>

<p>The following command adds a volume entry to the volume set called <code>fs2</code>, to match all volumes on the <em>/vicepb</em> partition of file server machine <code>fs2.abc.com</code>. Because it is issued at the shell prompt, double quotes surround the metacharacters in the <b>-volumes</b> argument. (The command is shown here on two lines only for legibility reasons.)</p>

<pre>   % backup addvolentry -name fs2 -server fs2.abc.com \
                        -partition /vicepb -volumes &#34;.*&#34;</pre>

<p>The chapter in the <i>IBM AFS Administration Guide</i> about configuring the AFS Backup System presents additional examples as well as advice on grouping volumes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be listed in the <em>/usr/afs/etc/UserList</em> file on every machine where the Backup Server is running, or must be logged onto a server machine as the local superuser <code>root</code> if the <b>-localauth</b> flag is included.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/backup.html" class="podlinkman"
>backup(8)</a>, <a href="../8/backup_addvolset.html" class="podlinkpod"
>backup_addvolset(8)</a>, <a href="../8/backup_delvolentry.html" class="podlinkpod"
>backup_delvolentry(8)</a>, <a href="../8/backup_delvolset.html" class="podlinkpod"
>backup_delvolset(8)</a>, <a href="../8/backup_listvolsets.html" class="podlinkpod"
>backup_listvolsets(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
