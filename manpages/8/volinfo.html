<html><head><title>volinfo</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Tue Nov 11 07:45:50 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>volinfo - Produces detailed statistics about AFS volume headers</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>volinfo</b> [<b>-online</b>] [<b>-vnode</b>] [<b>-date</b>] [<b>-inode</b>] [<b>-itime</b>] [<b>-part</b>&#160;&#60;<i>AFS&#160;partition&#160;name&#160;(default&#160;current&#160;partition)</i>&#62;+] [<b>-volumeid</b>&#160;&#60;<i>volume&#160;id</i>&#62;+] [<b>-header</b>] [<b>-sizeOnly</b>] [<b>-fixheader</b>] [<b>-saveinodes</b>] [<b>-orphaned</b>] [<b>-help</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>volinfo</b> command displays detailed statistics about one or more volume headers and the partition that houses them.
The command must be issued on a file server machine and by default produces output for every volume on every AFS server partition on the machine.
To display output for the volumes on one partition only,
include the <b>-part</b> argument.
To display output for one volume only,
include the <b>-volumeid</b> argument.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-online"
><b>-online</b></a></dt>

<dd>
<p>Is nonoperational.</p>

<dt><a name="-vnode"
><b>-vnode</b></a></dt>

<dd>
<p>Displays a table for each volume which lists the large (directory) and small (file) vnodes in it,
in addition to the default output.</p>

<dt><a name="-date"
><b>-date</b></a></dt>

<dd>
<p>When combined with the <b>-vnode</b> flag,
adds the <code>ServerModTime</code> field to each vnode entry in the large vnode and small vnode tables,
reporting its most recent modification time.</p>

<dt><a name="-inode"
><b>-inode</b></a></dt>

<dd>
<p>When combined with the <b>-vnode</b> flag,
adds the <code>inode</code> field to each vnode entry in the large vnode and small vnode tables,
reporting the associated inode number.</p>

<dt><a name="-itime"
><b>-itime</b></a></dt>

<dd>
<p>When combined with the <b>-vnode</b> flag,
displays a change,
modification,
and access timestamp for each of the large vnode and small vnode tables.</p>

<dt><a name="-part_&#60;partition_name&#62;+"
><b>-part</b> &#60;<i>partition name</i>&#62;+</a></dt>

<dd>
<p>Specifies the partition that houses each volume for which to produce output.
Use the format <em>/vicep<i>xx</i></em>,
where <i>xx</i> is one or two lowercase letters.
This argument can be omitted if the current working directory is the mount location for an AFS server partition; it is not the mount location for an AFS server partition,
the command produces output for every volume on all local AFS server partitions.</p>

<dt><a name="-volumeid_&#60;volume_id&#62;+"
><b>-volumeid</b> &#60;<i>volume id</i>&#62;+</a></dt>

<dd>
<p>Specifies the ID number of one volume for which to produce output.
The <b>-part</b> argument must be provided along with this one unless the current working directory is the mount location for the AFS server partition that houses the volume.</p>

<dt><a name="-header"
><b>-header</b></a></dt>

<dd>
<p>Displays statistics about the volume header of each volume,
in addition to the default output.</p>

<dt><a name="-sizeOnly"
><b>-sizeOnly</b></a></dt>

<dd>
<p>Displays a single line of output for each volume,
reporting the size of various structures associated with it.
The default output is suppressed and any flags that modify it (such as <b>-vnode</b>) are ignored.</p>

<dt><a name="-fixheader"
><b>-fixheader</b></a></dt>

<dd>
<p>Repairs damaged inodes in each volume if possible.
If there are any,
it reports the action it is taking to repair them.
Otherwise,
it produces no output in addition to the default output.</p>

<dt><a name="-saveinodes"
><b>-saveinodes</b></a></dt>

<dd>
<p>Creates a file in the current working directory for each inode in each volume.
Each file is called <em>TmpInode.<i>vnode_number</i></em> and contains the inode&#39;s contents.
The default output is suppressed and any flags that modify it (such as <b>-vnode</b>) are ignored.</p>

<dt><a name="-orphaned"
><b>-orphaned</b></a></dt>

<dd>
<p>Displays a large vnode and small vnode table for each volume,
which lists only orphaned vnodes (vnodes that have no parent).
If there are none,
the tables are empty (only the headers appear).</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>By default,
the command produces several line of statistics for each volume.
Adding other options produces or substitutes additional information as described in <a href="./OPTIONS.html" class="podlinkpod"
>OPTIONS</a>.
The output is intended for debugging purposes and is meaningful to someone familiar with the internal structure of volume headers.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be logged in as the local superuser <code>root</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/vldb.DB0.html" class="podlinkpod"
>vldb.DB0(5)</a>,
<a href="../8/volserver.html" class="podlinkman"
>volserver(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000.
&#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0.
It was converted from HTML to POD by software written by Chas Williams and Russ Allbery,
based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
