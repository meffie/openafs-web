<html><head><title>bos_util</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Wed Jul 16 06:02:02 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>bos_util - Manipulate the AFS server Keyfile</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>bos_util</b> add &#60;<i>kvno</i>&#62;</p>

<p><b>bos_util</b> adddes &#60;<i>kvno</i>&#62;</p>

<p><b>bos_util</b> delete &#60;<i>kvno</i>&#62;</p>

<p><b>bos_util</b> list</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>bos_util</b> command manipulates the AFS server <b>Keyfile</b>.
It can take a password from standard input,
convert it to a key,
and add it to the <em>KeyFile</em>; list the keys in the <em>KeyFile</em>; or remove a key from thet <em>KeyFile</em>.
It is very similar in function to <b>asetkey</b>,
but <b>asetkey</b> works with keytab files wheras <b>bos_util</b> works with passwords directly.</p>

<p><b>bos_util</b> expects one of the following subcommands:</p>

<dl>
<dt><a name="add_&#60;kvno&#62;"
>add &#60;<i>kvno</i>&#62;</a></dt>

<dd>
<p>Add a key with key version &#60;<i>kvno</i>&#62; to the <em>KeyFile</em> using a password from standard input.
This command uses the normal AFS password salt algorithm to generate the key (equivalent to the des-cbc-crc:afs3 enctype in Kerberos v5).
This command is basically equivalent to <b>bos addkey</b>.</p>

<dt><a name="adddes_&#60;kvno&#62;"
>adddes &#60;<i>kvno</i>&#62;</a></dt>

<dd>
<p>Add a key with key version &#60;<i>kvno</i>&#62; to the <b>KeyFile</b> using a password from standard input.
This command does not salt the password when generating the key (equivalent to the des-cbc-crc:v4 enctype in Kerberos v5).</p>

<p>Since this command applies no salt to the password,
it can be used as a last resort for generating a DES key with a salt algorithm that other utilities don&#39;t know how to use by giving this command the pre-salted password.
This can be useful when,
for example,
using Microsoft Active Directory as the Kerberos KDC,
since Active Directory uses a different salt algorithm for service principals than most Unix Kerberos implementations.
The best approach,
however,
is to find a way to generate a keytab and then use <b>asetkey</b>.</p>

<dt><a name="delete_&#60;kvno&#62;"
>delete &#60;<i>kvno</i>&#62;</a></dt>

<dd>
<p>Delete the key with the specified key version from the <em>KeyFile</em>.
This command is equivalent to <b>asetkey delete</b> or <b>bos removekey</b>.</p>

<dt><a name="list"
>list</a></dt>

<dd>
<p>List the keys in the <em>KeyFile</em>.
This command is equivalent to <b>asetkey list</b> or <b>bos listkeys</b>.</p>
</dd>
</dl>

<p>The <b>bos_util</b> command does not use the normal AFS option parsing library and its subcommands cannot be abbreviated.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p><b>bos_util</b> is intended for use with a Kerberos v4 environment and therefore is mostly obsolete.
Normally,
rather than using this command,
you will want to use <b>ktutil</b> to create a keytab (perhaps with its <b>add_entry</b> command) and then use <b>asetkey</b> as normal.
<b>bos_util</b> only supports the AFS password salt algorithm and no password salt algorithm and therefore may not produce the same key from a given password as Kerberos v5 utilities unless one is careful to use that same salt algorithm when creating the key in the KDC.</p>

<p>Creating an AFS key with a known password and then using <b>bos_util</b> or <b>bos addkey</b> to add that key to the <em>KeyFile</em> is not recommended.
Human-created passwords are usually not as strong as a random key generated using a good entropy source,
such as with the <b>-randkey</b> option to the MIT Kerberos v5 <b>kadmin ktadd</b> command or the equivalent in other Kerberos v5 implementations.
The security of AFS depends on the strength of the AFS service key; it should therefore be as random as possible.</p>

<p>It is imperative that the key version number (kvno) given matches the kvno on the Kerberos server.
If it doesn&#39;t,
users won&#39;t be able to authenticate.
The key generated by <b>bos_util</b> must also match the internal representation on the Kerberos server including the salt.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<p><b>bos_util</b> takes no options.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be logged onto a file server machine as the local superuser <code>root</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/asetkey.html" class="podlinkman"
>asetkey(8)</a>,
<a href="../8/bos_addkey.html" class="podlinkpod"
>bos_addkey(8)</a>,
<a href="../8/bos_listkeys.html" class="podlinkpod"
>bos_listkeys(8)</a>,
<a href="../8/bos_removekey.html" class="podlinkpod"
>bos_removekey(8)</a>,
kadmin(8),
ktutil(8)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2007 Jason Edgecombe &#60;jason@rampaginggeek.com&#62;</p>

<p>This documentation is covered by the BSD License as written in the doc/LICENSE file.
This man page was written by Jason Edgecombe for OpenAFS.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
