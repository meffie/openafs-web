<html><head><title>kpwvalid</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Mon Jul 28 01:10:48 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="indexlink"><a href="../index.html">Back to Index</a></p>
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>kpwvalid - Checks quality of new password</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>kpwvalid</b></p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>kpwvalid</b> command checks the quality of a new password passed to it from the <b>kpasswd</b> or <b>kas setpassword</b> command.
It is optional.
If it exists,
it must reside in the same AFS directory as the binaries for the <b>kpasswd</b> and <b>kas</b> command suites (create a symbolic link from the client machine&#39;s local disk to this directory).
The directory&#39;s ACL must extend the <code>a</code> (administer) and <code>w</code> (write) permissions to the system:administrators group only.
These requirements prevent unauthorized users from substituting a spurious <b>kpwvalid</b> binary.</p>

<p>The AFS distribution includes an example <b>kpwvalid</b> program that checks that the password is at least eight characters long; the code for it appears in <a href="./EXAMPLES.html" class="podlinkpod"
>EXAMPLES</a> below.</p>

<p>The script or program must accept a sequence of password strings,
one per line,
on the standard input stream.
The first is the current password and is ignored.
Each subsequent string is a candidate password to be checked.
The program must write the following to the standard output stream for each one:</p>

<ul><li><p><code>0</code> (zero) and a newline character to indicate that the password is acceptable.</p></li><li><p>A non-zero decimal number and a newline character to indicate that the password is not acceptable.</p></li></ul>

<p>Further,
it must write any error messages only to the standard error stream,
not to the standard output stream.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following example program,
included in the AFS distribution,
verifies that the requested password includes eight or more characters.</p>

<pre>   #include &#60;stdio.h&#62;
   /* prints 0 if the password is long enough, otherwise non-zero */
   main()
   {
   char oldpassword[512];
   char password[512];

   if (fgets(oldpassword, 512, stdin))
      while (fgets(password, 512, stdin)) {
         if (strlen(password) &#62; 8) { /* password includes a newline */
            fputs(&#34;0\n&#34;,stdout);
            fflush(stdout);
         }
         else {
            fputs(&#34;Passwords must contain at least 8 characters.\n&#34;,
                  stderr);
            fputs(&#34;1\n&#34;,stdout);
            fflush(stdout);
         }
   return 0;
   }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../8/kas_setpassword.html" class="podlinkpod"
>kas_setpassword(8)</a>, <a href="../1/kpasswd.html" class="podlinkman"
>kpasswd(1)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>
<p class="indexlink"><a href="../index.html">Back to Index</a></p>

<!-- end doc -->

</body></html>
