<html><head><title>kas</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Sat Jul 12 06:02:34 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>kas - Introduction to the kas command suite</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The commands in the <b>kas</b> command suite are the administrative interface to the Authentication Server,
which runs on each database server machine in a cell,
maintains the Authentication Database,
and provides the authentication tickets that client applications must present to AFS servers in order to obtain access to AFS data and other services.</p>

<p>There are several categories of commands in the <b>kas</b> command suite:</p>

<ul><li><p>Commands to create,
modify,
examine and delete entries in the Authentication Database,
including passwords: <b>kas create</b>,
<b>kas delete</b>,
<b>kas examine</b>,
<b>kas list</b>,
<b>kas setfields</b>,
<b>kas setkey</b>,
<b>kas setpassword</b>,
and <b>kas unlock</b>.</p></li><li><p>Commands to create,
delete,
and examine tokens and server tickets: <b>kas forgetticket</b>,
<b>kas listtickets</b>,
<b>kas noauthentication</b>,
and <b>kas stringtokey</b>.</p></li><li><p>A command to enter interactive mode: <b>kas interactive</b>.</p></li><li><p>A command to trace Authentication Server operations: <b>kas statistics</b>.</p></li><li><p>Commands to obtain help: <b>kas apropos</b> and <b>kas help</b>.</p></li></ul>

<p>Because of the sensitivity of information in the Authentication Database,
the Authentication Server authenticates issuers of <b>kas</b> commands directly,
rather than accepting the standard token generated by the Ticket Granting Service.
Any <b>kas</b> command that requires administrative privilege prompts the issuer for a password.
The resulting ticket is valid for six hours unless the maximum ticket lifetime for the issuer or the Authentication Server&#39;s Ticket Granting Service is shorter.</p>

<p>To avoid having to provide a password repeatedly when issuing a sequence of <b>kas</b> commands,
enter <i>interactive mode</i> by issuing the <b>kas interactive</b> command,
typing <b>kas</b> without any operation code,
or typing <b>kas</b> followed by a user and cell name,
separated by an at-sign (<code>@</code>; an example is <code>kas smith.admin@abc.com</code>).
After prompting once for a password,
the Authentication Server accepts the resulting token for every command issued during the interactive session.
See <a href="../8/kas_interactive.html" class="podlinkpod"
>kas_interactive(8)</a> for a discussion of when to use each method for entering interactive mode and of the effects of entering a session.</p>

<p>The Authentication Server maintains two databases on the local disk of the machine where it runs:</p>

<ul><li><p>The Authentication Database (<em>/usr/afs/db/kaserver.DB0</em>) stores the information used to provide AFS authentication services to users and servers,
including the password scrambled as an encryption key.
The reference page for the <b>kas examine</b> command describes the information in a database entry.</p></li><li><p>An auxiliary file (<em>/usr/afs/local/kaauxdb</em> by default) that tracks how often the user has provided an incorrect password to the local Authentication Server.
The reference page for the <b>kas setfields</b> command describes how the Authentication Server uses this file to enforce the limit on consecutive authentication failures.
To designate an alternate directory for the file,
use the <b>kaserver</b> command&#39;s <b>-localfiles</b> argument.</p></li></ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<p>The following arguments and flags are available on many commands in the <b>kas</b> suite.
(Some of them are unavailable on commands entered in interactive mode,
because the information they specify is established when entering interactive mode and cannot be changed except by leaving interactive mode.) The reference page for each command also lists them,
but they are described here in greater detail.</p>

<dl>
<dt><a name="-admin_username_&#60;user_name&#62;"
><b>-admin_username</b> &#60;<i>user name</i>&#62;</a></dt>

<dd>
<p>Specifies the user identity under which to authenticate with the Authentication Server for execution of the command.
If this argument is omitted,
the <b>kas</b> command interpreter requests authentication for the identity under which the issuer is logged onto the local machine.
Do not combine this argument with the <b>-noauth</b> flag.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command.
It is acceptable to abbreviate the cell name to the shortest form that distinguishes it from the other entries in the <em>/usr/vice/etc/CellServDB</em> file on the local machine.
If the <b>-cell</b> argument is omitted,
the command interpreter determines the name of the local cell by reading the following in order:</p>

<ul><li><p>The value of the AFSCELL environment variable.</p></li><li><p>The local <em>/usr/vice/etc/ThisCell</em> file.</p></li></ul>

<p>The <b>-cell</b> argument is not available on commands issued in interactive mode.
The cell defined when the <b>kas</b> command interpreter enters interactive mode applies to all commands issued during the interactive session.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints a command&#39;s online help message on the standard output stream.
Do not combine this flag with any of the command&#39;s other options; when it is provided,
the command interpreter ignores all other options,
and only prints the help message.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Establishes an unauthenticated connection to the Authentication Server,
in which the Authentication Server treats the issuer as the unprivileged user <code>anonymous</code>.
It is useful only when authorization checking is disabled on the server machine (during the installation of a server machine or when the <b>bos setauth</b> command has been used during other unusual circumstances).
In normal circumstances,
the Authentication Server allows only privileged users to issue most <b>kas</b> commands,
and refuses to perform such an action even if the <b>-noauth</b> flag is provided.
Do not combine this flag with the <b>-admin_username</b> and <b>-password_for_admin</b> arguments.</p>

<dt><a name="-password_for_admin_&#60;password&#62;"
><b>-password_for_admin</b> &#60;<i>password</i>&#62;</a></dt>

<dd>
<p>Specifies the password of the command&#39;s issuer.
It is best to omit this argument,
which echoes the password visibly in the command shell,
instead enter the password at the prompt.
Do not combine this argument with the <b>-noauth</b> flag.</p>

<dt><a name="-servers_&#60;machine_name&#62;+"
><b>-servers</b> &#60;<i>machine name</i>&#62;+</a></dt>

<dd>
<p>Establishes a connection with the Authentication Server running on each specified database server machine,
instead of on each machine listed in the local <em>/usr/vice/etc/CellServDB</em> file.
In either case,
the <b>kas</b> command interpreter then chooses one of the machines at random to contact for execution of each subsequent command.
The issuer can abbreviate the machine name to the shortest form that allows the local name service to identify it uniquely.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>To issue most kas commands,
the issuer must have the <code>ADMIN</code> flag set in his or her Authentication Database entry (use the <b>kas setfields</b> command to turn the flag on).</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/CellServDB.html" class="podlinkman"
>CellServDB(5)</a>,
<a href="../5/kaserver.DB0.html" class="podlinkpod"
>kaserver.DB0(5)</a>,
<a href="../5/kaserverauxdb.html" class="podlinkman"
>kaserverauxdb(5)</a>,
<a href="../8/kas_apropos.html" class="podlinkpod"
>kas_apropos(8)</a>,
<a href="../8/kas_create.html" class="podlinkpod"
>kas_create(8)</a>,
<a href="../8/kas_delete.html" class="podlinkpod"
>kas_delete(8)</a>,
<a href="../8/kas_examine.html" class="podlinkpod"
>kas_examine(8)</a>,
<a href="../8/kas_forgetticket.html" class="podlinkpod"
>kas_forgetticket(8)</a>,
<a href="../8/kas_help.html" class="podlinkpod"
>kas_help(8)</a>,
<a href="../8/kas_interactive.html" class="podlinkpod"
>kas_interactive(8)</a>,
<a href="../8/kas_list.html" class="podlinkpod"
>kas_list(8)</a>,
<a href="../8/kas_listtickets.html" class="podlinkpod"
>kas_listtickets(8)</a>,
<a href="../8/kas_noauthentication.html" class="podlinkpod"
>kas_noauthentication(8)</a>,
<a href="../8/kas_quit.html" class="podlinkpod"
>kas_quit(8)</a>,
<a href="../8/kas_setfields.html" class="podlinkpod"
>kas_setfields(8)</a>,
<a href="../8/kas_setpassword.html" class="podlinkpod"
>kas_setpassword(8)</a>,
<a href="../8/kas_statistics.html" class="podlinkpod"
>kas_statistics(8)</a>,
<a href="../8/kas_stringtokey.html" class="podlinkpod"
>kas_stringtokey(8)</a>,
<a href="../8/kas_unlock.html" class="podlinkpod"
>kas_unlock(8)</a>,
<a href="../8/kaserver.html" class="podlinkman"
>kaserver(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000.
&#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0.
It was converted from HTML to POD by software written by Chas Williams and Russ Allbery,
based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
