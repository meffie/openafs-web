<html><head><title>kadb_check</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Fri Jun  6 16:43:05 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>kadb_check - Checks the integrity of the Authentication Database</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>kadb_check</b> <b>-database</b>&#160;&#60;<i>kadb&#160;file</i>&#62; [<b>-uheader</b>] [<b>-kheader</b>] [<b>-entries</b>] [<b>-verbose</b>] [<b>-rebuild</b>&#160;&#60;<i>out&#160;file</i>&#62;] [<b>-help</b>]</p>

<p><b>kadb_check</b> <b>-d</b>&#160;&#60;<i>kadb&#160;file</i>&#62; [<b>-u</b>] [<b>-k</b>] [<b>-e</b>] [<b>-v</b>] [<b>-r</b>&#160;&#60;<i>out&#160;file</i>&#62;] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>kadb_check</b> command checks the integrity of the Protection Database,
reporting any errors or corruption it finds.
If there are problems,
do not issue any <b>kas</b> commands until the database is repaired.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>The results can be unpredictable if the Authentication Server makes changes to the Authentication Database while this command is running.
Use the <b>bos shutdown</b> command to shutdown the local <b>kaserver</b> process before running this command,
or before creating a second copy of the <em>kaserver.DB0</em> file (with a different name) on which to run the command.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-database_&#60;kadb_file&#62;"
><b>-database</b> &#60;<i>kadb file</i>&#62;</a></dt>

<dd>
<p>Names the Authentication Database (copy of the <em>kaserver.DB0</em> file) to check.
If the current working directory is not the location of the file,
provide a pathname,
either full or relative to the current working directory.</p>

<dt><a name="-uheader"
><b>-uheader</b></a></dt>

<dd>
<p>Displays information which Ubik maintains in the database&#39;s header.</p>

<dt><a name="-kheader"
><b>-kheader</b></a></dt>

<dd>
<p>Displays information which the Authentication Server maintains in the database&#39;s header.</p>

<dt><a name="-entries"
><b>-entries</b></a></dt>

<dd>
<p>Outputs every entry in the database,
providing information similar to that returned by the <b>kas examine</b> command.</p>

<dt><a name="-verbose"
><b>-verbose</b></a></dt>

<dd>
<p>Reports additional information about the database,
including the number of free (allocated but unused) entries in the database.</p>

<dt><a name="-rebuild_&#60;out_file&#62;"
><b>-rebuild</b> &#60;<i>out file</i>&#62;</a></dt>

<dd>
<p>Names the file in which to record a list of <b>kas</b> commands which,
if issued in the command shell,
recreate the current state of the database being verified.
Partial pathnames are interpreted relative to the current working directory.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>If there are errors in the database,
the output always reports them on the standard error stream.
If any options other than <b>-database</b> or <b>-help</b> are provided,
the output written to the standard output stream includes additional information as described for each option in <a href="./OPTIONS.html" class="podlinkpod"
>OPTIONS</a>.
The output is intended for debugging purposes and is meaningful to someone familiar with the internal structure of the Authentication Database.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be logged in as the local superuser <code>root</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/kaserver.DB0.html" class="podlinkpod"
>kaserver.DB0(5)</a>,
<a href="../8/bos_shutdown.html" class="podlinkpod"
>bos_shutdown(8)</a>,
<a href="../8/kas_examine.html" class="podlinkpod"
>kas_examine(8)</a>,
<a href="../8/kaserver.html" class="podlinkman"
>kaserver(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000.
&#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0.
It was converted from HTML to POD by software written by Chas Williams and Russ Allbery,
based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
