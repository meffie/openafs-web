<html><head><title>bos_listkeys</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Sat Jul 12 06:02:32 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>bos_listkeys - Displays the server encryption keys from the KeyFile file</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>bos listkeys</b> <b>-server</b>&#160;&#60;<i>machine&#160;name</i>&#62; [<b>-showkey</b>] [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-help</b>]</p>

<p><b>bos listk</b> <b>-se</b>&#160;&#60;<i>machine&#160;name</i>&#62; [<b>-sh</b>] [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-n</b>] [<b>-l</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>bos listkeys</b> command formats and displays the list of server encryption keys from the <em>/usr/afs/etc/KeyFile</em> file on the server machine named by the <b>-server</b> argument.</p>

<p>To edit the list of keys,
use the <b>bos addkey</b> and <b>bos removekey</b> commands.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>Displaying actual keys on the standard output stream (by including the <b>-showkey</b> flag) is a security exposure.
Displaying a checksum is sufficient for most purposes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-server_&#60;machine_name&#62;"
><b>-server</b> &#60;<i>machine name</i>&#62;</a></dt>

<dd>
<p>Indicates the server machine from which to display the KeyFile file.
Identify the machine by IP address or its host name (either fully-qualified or abbreviated unambiguously).
For details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<p>For consistent performance in the cell,
the output must be the same on every server machine.
The <b>bos addkey</b> reference page explains how to keep the machines synchronized.</p>

<dt><a name="-showkey"
><b>-showkey</b></a></dt>

<dd>
<p>Displays the octal digits that constitute each key.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command.
Do not combine this argument with the <b>-localauth</b> flag.
For more details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Assigns the unprivileged identity <code>anonymous</code> to the issuer.
Do not combine this flag with the <b>-localauth</b> flag.
For more details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file.
The <b>bos</b> command interpreter presents the ticket to the BOS Server during mutual authentication.
Do not combine this flag with the <b>-cell</b> or <b>-noauth</b> options.
For more details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OUTPUT"
>OUTPUT</a></h1>

<p>The output includes one line for each server encryption key listed in the <em>KeyFile</em> file,
identified by its key version number.</p>

<p>If the <b>-showkey</b> flag is included,
the output displays the actual string of eight octal numbers that constitute the key.
Each octal number is a backslash and three decimal digits.</p>

<p>If the <b>-showkey</b> flag is not included,
the output represents each key as a checksum,
which is a decimal number derived by encrypting a constant with the key.</p>

<p>Following the list of keys or checksums,
the string <code>Keys last changed</code> indicates when a key was last added to the <em>KeyFile</em> file.
The words <code>All done</code> indicate the end of the output.</p>

<p>For mutual authentication to work properly,
the output from the command <code>kas examine afs</code> must match the key or checksum with the same key version number in the output from this command.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following example shows the checksums for the keys stored in the <em>KeyFile</em> file on the machine <code>fs3.abc.com</code>.</p>

<pre>   % bos listkeys fs3.abc.com
   key 1 has cksum 972037177
   key 3 has cksum 2825175022
   key 4 has cksum 260617746
   key 6 has cksum 4178774593
   Keys last changed on Mon Apr 12 11:24:46 1999.
   All done.</pre>

<p>The following example shows the actual keys from the <em>KeyFile</em> file on the machine <code>fs6.abc.com</code>.</p>

<pre>   % bos listkeys fs6.abc.com -showkey
   key 0 is &#39;\040\205\211\241\345\002\023\211&#39;
   key 1 is &#39;\343\315\307\227\255\320\135\244&#39;
   key 2 is &#39;\310\310\255\253\326\236\261\211&#39;
   Keys last changed on Wed Mar 31 11:24:46 1999.
   All done.</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be listed in the <em>/usr/afs/etc/UserList</em> file on the machine named by the <b>-server</b> argument, or must be logged onto a server machine as the local superuser <code>root</code> if the <b>-localauth</b> flag is included.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/KeyFile.html" class="podlinkman"
>KeyFile(5)</a>, <a href="../5/UserList.html" class="podlinkman"
>UserList(5)</a>, <a href="../8/bos_addkey.html" class="podlinkpod"
>bos_addkey(8)</a>, <a href="../8/bos_removekey.html" class="podlinkpod"
>bos_removekey(8)</a>, <a href="../8/bos_setauth.html" class="podlinkpod"
>bos_setauth(8)</a>, <a href="../8/kas_examine.html" class="podlinkpod"
>kas_examine(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
