<html><head><title>bos_removekey</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="style" type="text/css" href="../style.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by OpenAFS::HTML v1.1,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010000 at Sat Mar 29 18:17:50 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to OpenAFS::HTML, and/or subclassing OpenAFS::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of OpenAFS::HTML for advice.
   See 'perldoc OpenAFS::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>bos_removekey - Removes a server encryption key from the KeyFile file</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>


<div class="synopsis">


<p><b>bos removekey</b> <b>-server</b>&#160;&#60;<i>machine&#160;name</i>&#62; <b>-kvno</b>&#160;&#60;<i>key&#160;version&#160;number</i>&#62;+ [<b>-cell</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-help</b>]</p>

<p><b>bos removek</b> <b>-s</b>&#160;&#60;<i>machine&#160;name</i>&#62; <b>-k</b>&#160;&#60;<i>key&#160;version&#160;number</i>&#62;+ [<b>-c</b>&#160;&#60;<i>cell&#160;name</i>&#62;] [<b>-n</b>] [<b>-l</b>] [<b>-h</b>]</p>


</div>


<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <b>bos removekey</b> command removes each specified encryption key from the <em>/usr/afs/etc/KeyFile</em> file on the machine named by the <b>-server</b> argument.
Use the <b>-kvno</b> argument to identify each key by its key version number; use the <b>bos listkeys</b> command to display the key version numbers.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAUTIONS"
>CAUTIONS</a></h1>

<p>Before removing a obsolete key,
verify that the cell&#39;s maximum ticket lifetime has passed since the current key was defined using the <b>kas setpassword</b> and <b>bos addkey</b> commands.
This ensures that no clients still possess tickets encrypted with the obsolete key.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h1>

<dl>
<dt><a name="-server_&#60;machine_name&#62;"
><b>-server</b> &#60;<i>machine name</i>&#62;</a></dt>

<dd>
<p>Indicates the server machine on which to change the <em>/usr/afs/etc/KeyFile</em> file.
Identify the machine by IP address or its host name (either fully-qualified or abbreviated unambiguously).
For details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<p>In cells that use the Update Server to distribute the contents of the <em>/usr/afs/etc</em> directory,
it is conventional to specify only the system control machine as a value for the <b>-server</b> argument.
Otherwise,
repeat the command for each file server machine.
For further discussion,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<dt><a name="-kvno_&#60;key_version_number&#62;+"
><b>-kvno</b> &#60;<i>key version number</i>&#62;+</a></dt>

<dd>
<p>Specifies the key version number of each key to remove.</p>

<dt><a name="-cell_&#60;cell_name&#62;"
><b>-cell</b> &#60;<i>cell name</i>&#62;</a></dt>

<dd>
<p>Names the cell in which to run the command.
Do not combine this argument with the <b>-localauth</b> flag.
For more details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<dt><a name="-noauth"
><b>-noauth</b></a></dt>

<dd>
<p>Assigns the unprivileged identity <code>anonymous</code> to the issuer.
Do not combine this flag with the <b>-localauth</b> flag.
For more details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<dt><a name="-localauth"
><b>-localauth</b></a></dt>

<dd>
<p>Constructs a server ticket using a key from the local <em>/usr/afs/etc/KeyFile</em> file.
The <b>bos</b> command interpreter presents the ticket to the BOS Server during mutual authentication.
Do not combine this flag with the <b>-cell</b> or <b>-noauth</b> options.
For more details,
see <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>.</p>

<dt><a name="-help"
><b>-help</b></a></dt>

<dd>
<p>Prints the online help for this command.
All other valid options are ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The following command removes the keys with key version numbers 5 and 6 from the <em>KeyFile</em> file on the system control machine <code>fs1.abc.com</code>.</p>

<pre>   % bos removekey -server fs1.abc.com -kvno 5 6</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PRIVILEGE_REQUIRED"
>PRIVILEGE REQUIRED</a></h1>

<p>The issuer must be listed in the <em>/usr/afs/etc/UserList</em> file on the machine named by the <b>-server</b> argument, or must be logged onto a server machine as the local superuser <code>root</code> if the <b>-localauth</b> flag is included.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../5/KeyFile.html" class="podlinkman"
>KeyFile(5)</a>, <a href="../5/UserList.html" class="podlinkman"
>UserList(5)</a>, <a href="../8/bos.html" class="podlinkman"
>bos(8)</a>, <a href="../8/bos_addkey.html" class="podlinkpod"
>bos_addkey(8)</a>, <a href="../8/bos_listkeys.html" class="podlinkpod"
>bos_listkeys(8)</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>IBM Corporation 2000. &#60;http://www.ibm.com/&#62; All Rights Reserved.</p>

<p>This documentation is covered by the IBM Public License Version 1.0. It was converted from HTML to POD by software written by Chas Williams and Russ Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</p>

<!-- end doc -->

</body></html>
